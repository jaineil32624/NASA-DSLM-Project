{"version":3,"file":"StarField-DPmaz_7m.js","sources":["../../src/components/base/StarField.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\ninterface Star {\n  x: number;\n  y: number;\n  size: number;\n  baseOpacity: number;\n  twinkleSpeed: number;\n  twinklePhase: number;\n  layer: number;\n  color: { r: number; g: number; b: number };\n  pulseIntensity: number;\n  sparkleTimer: number;\n  isSparkle: boolean;\n  isSupernovaCandidate: boolean;\n}\n\ninterface ShootingStar {\n  x: number;\n  y: number;\n  length: number;\n  speed: number;\n  angle: number;\n  opacity: number;\n  trailParticles: { x: number; y: number; opacity: number; size: number }[];\n  color: { r: number; g: number; b: number };\n}\n\ninterface GlowOrb {\n  x: number;\n  y: number;\n  radius: number;\n  color: { r: number; g: number; b: number };\n  opacity: number;\n  pulseSpeed: number;\n  pulsePhase: number;\n  driftX: number;\n  driftY: number;\n}\n\ninterface SparkleCluster {\n  x: number;\n  y: number;\n  particles: {\n    angle: number;\n    distance: number;\n    size: number;\n    opacity: number;\n    speed: number;\n  }[];\n  life: number;\n  maxLife: number;\n}\n\ninterface Supernova {\n  x: number;\n  y: number;\n  phase: number;\n  maxPhase: number;\n  maxRadius: number;\n  color: { r: number; g: number; b: number };\n}\n\ninterface WaveEffect {\n  x: number;\n  y: number;\n  radius: number;\n  maxRadius: number;\n  opacity: number;\n  speed: number;\n}\n\nexport default function StarField() {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const starsRef = useRef<Star[]>([]);\n  const shootingStarsRef = useRef<ShootingStar[]>([]);\n  const glowOrbsRef = useRef<GlowOrb[]>([]);\n  const sparkleClustersRef = useRef<SparkleCluster[]>([]);\n  const supernovasRef = useRef<Supernova[]>([]);\n  const wavesRef = useRef<WaveEffect[]>([]);\n  const animationFrameRef = useRef<number>();\n  const lastShootingStarRef = useRef<number>(0);\n  const lastSupernovaRef = useRef<number>(0);\n  const lastWaveRef = useRef<number>(0);\n  const mouseRef = useRef<{ x: number; y: number }>({ x: -1000, y: -1000 });\n  const themeRef = useRef<string>('dark');\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Check theme from document attribute\n    const checkTheme = () => {\n      const theme = document.documentElement.getAttribute('data-theme') || 'dark';\n      themeRef.current = theme;\n    };\n\n    // Observer for theme changes\n    const observer = new MutationObserver(checkTheme);\n    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });\n    checkTheme();\n\n    const resizeCanvas = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n      initStars();\n      initGlowOrbs();\n    };\n\n    const initGlowOrbs = () => {\n      glowOrbsRef.current = [];\n      const orbColors = [\n        { r: 20, g: 184, b: 166 },\n        { r: 6, g: 182, b: 212 },\n        { r: 59, g: 130, b: 246 },\n        { r: 16, g: 185, b: 129 },\n      ];\n\n      for (let i = 0; i < 5; i++) {\n        glowOrbsRef.current.push({\n          x: Math.random() * canvas.width,\n          y: Math.random() * canvas.height,\n          radius: Math.random() * 200 + 100,\n          color: orbColors[Math.floor(Math.random() * orbColors.length)],\n          opacity: Math.random() * 0.06 + 0.02,\n          pulseSpeed: Math.random() * 0.001 + 0.0005,\n          pulsePhase: Math.random() * Math.PI * 2,\n          driftX: (Math.random() - 0.5) * 0.15,\n          driftY: (Math.random() - 0.5) * 0.15\n        });\n      }\n    };\n\n    const initStars = () => {\n      starsRef.current = [];\n      const starCount = Math.floor((canvas.width * canvas.height) / 1200);\n      \n      const starColors = [\n        { r: 255, g: 255, b: 255 },\n        { r: 255, g: 255, b: 255 },\n        { r: 255, g: 255, b: 255 },\n        { r: 200, g: 220, b: 255 },\n        { r: 255, g: 200, b: 200 },\n        { r: 200, g: 255, b: 220 },\n        { r: 255, g: 220, b: 180 },\n        { r: 180, g: 220, b: 255 },\n        { r: 255, g: 180, b: 220 },\n        { r: 180, g: 255, b: 220 },\n        { r: 220, g: 180, b: 255 },\n        { r: 255, g: 255, b: 180 },\n      ];\n      \n      for (let i = 0; i < starCount; i++) {\n        const layer = Math.random() < 0.15 ? 1 : Math.random() < 0.4 ? 2 : 3;\n        const isSparkle = Math.random() < 0.12;\n        const isSupernovaCandidate = Math.random() < 0.005;\n        \n        starsRef.current.push({\n          x: Math.random() * canvas.width,\n          y: Math.random() * canvas.height,\n          size: layer === 1 ? Math.random() * 3 + 2 : layer === 2 ? Math.random() * 2 + 1 : Math.random() * 1.2 + 0.5,\n          baseOpacity: Math.random() * 0.4 + 0.5,\n          twinkleSpeed: Math.random() * 0.006 + 0.002,\n          twinklePhase: Math.random() * Math.PI * 2,\n          layer,\n          color: starColors[Math.floor(Math.random() * starColors.length)],\n          pulseIntensity: Math.random() * 0.5 + 0.3,\n          sparkleTimer: Math.random() * 500,\n          isSparkle,\n          isSupernovaCandidate\n        });\n      }\n    };\n\n    const createSparkleCluster = (x: number, y: number) => {\n      const particles = [];\n      const particleCount = Math.floor(Math.random() * 8) + 6;\n      \n      for (let i = 0; i < particleCount; i++) {\n        particles.push({\n          angle: (Math.PI * 2 / particleCount) * i + Math.random() * 0.5,\n          distance: 0,\n          size: Math.random() * 2 + 1,\n          opacity: 1,\n          speed: Math.random() * 2.5 + 1\n        });\n      }\n      \n      sparkleClustersRef.current.push({\n        x,\n        y,\n        particles,\n        life: 0,\n        maxLife: 50\n      });\n    };\n\n    const createSupernova = (x: number, y: number) => {\n      const colors = [\n        { r: 255, g: 255, b: 255 },\n        { r: 255, g: 200, b: 100 },\n        { r: 100, g: 200, b: 255 },\n        { r: 255, g: 150, b: 200 },\n      ];\n      \n      supernovasRef.current.push({\n        x,\n        y,\n        phase: 0,\n        maxPhase: 120,\n        maxRadius: Math.random() * 80 + 60,\n        color: colors[Math.floor(Math.random() * colors.length)]\n      });\n    };\n\n    const createWave = () => {\n      wavesRef.current.push({\n        x: Math.random() * canvas.width,\n        y: Math.random() * canvas.height,\n        radius: 0,\n        maxRadius: Math.random() * 400 + 300,\n        opacity: 0.15,\n        speed: Math.random() * 2 + 1\n      });\n    };\n\n    const createShootingStar = () => {\n      const startX = Math.random() * canvas.width * 0.9;\n      const startY = Math.random() * canvas.height * 0.4;\n      \n      const colors = [\n        { r: 255, g: 255, b: 255 },\n        { r: 200, g: 230, b: 255 },\n        { r: 255, g: 220, b: 180 },\n        { r: 180, g: 255, b: 220 },\n      ];\n      \n      shootingStarsRef.current.push({\n        x: startX,\n        y: startY,\n        length: Math.random() * 120 + 80,\n        speed: Math.random() * 15 + 18,\n        angle: Math.random() * Math.PI / 6 + Math.PI / 5,\n        opacity: 1,\n        trailParticles: [],\n        color: colors[Math.floor(Math.random() * colors.length)]\n      });\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      mouseRef.current = { x: e.clientX, y: e.clientY };\n    };\n\n    const handleTouchMove = (e: TouchEvent) => {\n      if (e.touches.length > 0) {\n        mouseRef.current = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n      }\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('touchmove', handleTouchMove);\n\n    const animate = (timestamp: number) => {\n      const isLightMode = themeRef.current === 'light';\n      \n      // Clear with appropriate background\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Light mode: show subtle stars and effects\n      if (isLightMode) {\n        // Light mode glow orbs (subtle)\n        glowOrbsRef.current.forEach((orb) => {\n          const pulse = Math.sin(timestamp * orb.pulseSpeed + orb.pulsePhase) * 0.5 + 0.5;\n          const currentRadius = orb.radius * (0.85 + pulse * 0.3);\n          const currentOpacity = orb.opacity * 0.25 * (0.7 + pulse * 0.3);\n\n          const gradient = ctx.createRadialGradient(\n            orb.x, orb.y, 0,\n            orb.x, orb.y, currentRadius\n          );\n          gradient.addColorStop(0, `rgba(${orb.color.r}, ${orb.color.g}, ${orb.color.b}, ${currentOpacity})`);\n          gradient.addColorStop(0.4, `rgba(${orb.color.r}, ${orb.color.g}, ${orb.color.b}, ${currentOpacity * 0.3})`);\n          gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n\n          ctx.fillStyle = gradient;\n          ctx.beginPath();\n          ctx.arc(orb.x, orb.y, currentRadius, 0, Math.PI * 2);\n          ctx.fill();\n\n          orb.x += orb.driftX;\n          orb.y += orb.driftY;\n\n          if (orb.x < -orb.radius) orb.x = canvas.width + orb.radius;\n          if (orb.x > canvas.width + orb.radius) orb.x = -orb.radius;\n          if (orb.y < -orb.radius) orb.y = canvas.height + orb.radius;\n          if (orb.y > canvas.height + orb.radius) orb.y = -orb.radius;\n        });\n\n        // Light mode stars (subtle, darker colors for visibility)\n        starsRef.current.forEach((star) => {\n          star.sparkleTimer += 1;\n          const twinkle = Math.sin(timestamp * star.twinkleSpeed + star.twinklePhase);\n          let combinedTwinkle = twinkle * star.pulseIntensity * 0.5;\n\n          let sparkleBoost = 0;\n          if (star.isSparkle && star.sparkleTimer > 100) {\n            const sparklePhase = (star.sparkleTimer % 200) / 200;\n            if (sparklePhase < 0.3) {\n              sparkleBoost = Math.sin(sparklePhase / 0.3 * Math.PI) * 0.4;\n            }\n            if (star.sparkleTimer > 300) {\n              star.sparkleTimer = 0;\n            }\n          }\n\n          const currentOpacity = Math.min(0.4, (star.baseOpacity * 0.3) * (0.5 + combinedTwinkle * 0.5) + sparkleBoost);\n          const currentSize = star.size * 0.7 * (0.85 + combinedTwinkle * 0.15 + sparkleBoost * 0.3);\n\n          const drift = star.layer === 1 ? 0.02 : star.layer === 2 ? 0.01 : 0.005;\n          star.x += drift;\n          if (star.x > canvas.width + 10) star.x = -10;\n\n          // Use darker colors for light mode visibility\n          const lightModeColor = {\n            r: Math.max(0, star.color.r - 150),\n            g: Math.max(0, star.color.g - 150),\n            b: Math.max(0, star.color.b - 100)\n          };\n\n          // Subtle glow for larger stars\n          if (star.layer === 1 || (star.isSparkle && sparkleBoost > 0.2)) {\n            const glowSize = currentSize * 3;\n            const glowGradient = ctx.createRadialGradient(\n              star.x, star.y, 0,\n              star.x, star.y, glowSize\n            );\n            glowGradient.addColorStop(0, `rgba(${lightModeColor.r}, ${lightModeColor.g}, ${lightModeColor.b}, ${currentOpacity * 0.5})`);\n            glowGradient.addColorStop(0.5, `rgba(${lightModeColor.r}, ${lightModeColor.g}, ${lightModeColor.b}, ${currentOpacity * 0.2})`);\n            glowGradient.addColorStop(1, 'rgba(100, 100, 100, 0)');\n\n            ctx.fillStyle = glowGradient;\n            ctx.beginPath();\n            ctx.arc(star.x, star.y, glowSize, 0, Math.PI * 2);\n            ctx.fill();\n          }\n\n          ctx.fillStyle = `rgba(${lightModeColor.r}, ${lightModeColor.g}, ${lightModeColor.b}, ${currentOpacity})`;\n          ctx.beginPath();\n          ctx.arc(star.x, star.y, currentSize, 0, Math.PI * 2);\n          ctx.fill();\n        });\n\n        // Light mode shooting stars (less frequent, subtle)\n        if (timestamp - lastShootingStarRef.current > 8000 + Math.random() * 10000) {\n          createShootingStar();\n          lastShootingStarRef.current = timestamp;\n        }\n\n        // Render shooting stars in light mode\n        shootingStarsRef.current = shootingStarsRef.current.filter((star) => {\n          star.x += Math.cos(star.angle) * star.speed;\n          star.y += Math.sin(star.angle) * star.speed;\n          star.opacity -= 0.02;\n\n          if (star.opacity <= 0) return false;\n\n          const lightOpacity = star.opacity * 0.4;\n          const gradient = ctx.createLinearGradient(\n            star.x,\n            star.y,\n            star.x - Math.cos(star.angle) * star.length * 0.7,\n            star.y - Math.sin(star.angle) * star.length * 0.7\n          );\n          gradient.addColorStop(0, `rgba(100, 150, 180, ${lightOpacity})`);\n          gradient.addColorStop(0.3, `rgba(80, 120, 150, ${lightOpacity * 0.5})`);\n          gradient.addColorStop(1, `rgba(60, 100, 130, 0)`);\n\n          ctx.strokeStyle = gradient;\n          ctx.lineWidth = 2;\n          ctx.lineCap = 'round';\n          ctx.beginPath();\n          ctx.moveTo(star.x, star.y);\n          ctx.lineTo(\n            star.x - Math.cos(star.angle) * star.length * 0.7,\n            star.y - Math.sin(star.angle) * star.length * 0.7\n          );\n          ctx.stroke();\n\n          ctx.fillStyle = `rgba(80, 130, 160, ${lightOpacity})`;\n          ctx.beginPath();\n          ctx.arc(star.x, star.y, 3, 0, Math.PI * 2);\n          ctx.fill();\n\n          return true;\n        });\n\n        animationFrameRef.current = requestAnimationFrame(animate);\n        return;\n      }\n\n      // Dark mode: full star field effects\n      // Wave effects\n      wavesRef.current = wavesRef.current.filter((wave) => {\n        wave.radius += wave.speed;\n        wave.opacity = 0.15 * (1 - wave.radius / wave.maxRadius);\n        if (wave.radius >= wave.maxRadius) return false;\n\n        ctx.strokeStyle = `rgba(100, 200, 255, ${wave.opacity})`;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(wave.x, wave.y, wave.radius, 0, Math.PI * 2);\n        ctx.stroke();\n        return true;\n      });\n\n      // Glow orbs\n      glowOrbsRef.current.forEach((orb) => {\n        const pulse = Math.sin(timestamp * orb.pulseSpeed + orb.pulsePhase) * 0.5 + 0.5;\n        const currentRadius = orb.radius * (0.85 + pulse * 0.3);\n        const currentOpacity = orb.opacity * (0.7 + pulse * 0.3);\n\n        const gradient = ctx.createRadialGradient(\n          orb.x, orb.y, 0,\n          orb.x, orb.y, currentRadius\n        );\n        gradient.addColorStop(0, `rgba(${orb.color.r}, ${orb.color.g}, ${orb.color.b}, ${currentOpacity})`);\n        gradient.addColorStop(0.4, `rgba(${orb.color.r}, ${orb.color.g}, ${orb.color.b}, ${currentOpacity * 0.4})`);\n        gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\n\n        ctx.fillStyle = gradient;\n        ctx.beginPath();\n        ctx.arc(orb.x, orb.y, currentRadius, 0, Math.PI * 2);\n        ctx.fill();\n\n        orb.x += orb.driftX;\n        orb.y += orb.driftY;\n\n        if (orb.x < -orb.radius) orb.x = canvas.width + orb.radius;\n        if (orb.x > canvas.width + orb.radius) orb.x = -orb.radius;\n        if (orb.y < -orb.radius) orb.y = canvas.height + orb.radius;\n        if (orb.y > canvas.height + orb.radius) orb.y = -orb.radius;\n      });\n\n      // Stars\n      starsRef.current.forEach((star) => {\n        star.sparkleTimer += 1;\n        const twinkle = Math.sin(timestamp * star.twinkleSpeed + star.twinklePhase);\n        const twinkle2 = Math.sin(timestamp * star.twinkleSpeed * 1.5 + star.twinklePhase * 0.7);\n        let combinedTwinkle = (twinkle * 0.6 + twinkle2 * 0.4) * star.pulseIntensity;\n\n        let sparkleBoost = 0;\n        if (star.isSparkle && star.sparkleTimer > 100) {\n          const sparklePhase = (star.sparkleTimer % 200) / 200;\n          if (sparklePhase < 0.3) {\n            sparkleBoost = Math.sin(sparklePhase / 0.3 * Math.PI) * 0.8;\n          }\n          if (star.sparkleTimer > 300) {\n            star.sparkleTimer = 0;\n          }\n        }\n\n        const currentOpacity = Math.min(1, star.baseOpacity * (0.5 + combinedTwinkle * 0.5) + sparkleBoost);\n        const currentSize = star.size * (0.85 + combinedTwinkle * 0.15 + sparkleBoost * 0.4);\n\n        const dx = star.x - mouseRef.current.x;\n        const dy = star.y - mouseRef.current.y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        const interactionRadius = 120;\n        let interactionBoost = 0;\n        if (distance < interactionRadius) {\n          interactionBoost = (1 - distance / interactionRadius) * 0.5;\n        }\n\n        const drift = star.layer === 1 ? 0.02 : star.layer === 2 ? 0.01 : 0.005;\n        star.x += drift;\n        if (star.x > canvas.width + 10) star.x = -10;\n\n        const finalOpacity = Math.min(1, currentOpacity + interactionBoost);\n        const finalSize = currentSize * (1 + interactionBoost * 0.5);\n\n        if (star.layer === 1 || (star.isSparkle && sparkleBoost > 0.3)) {\n          const glowSize = finalSize * 4;\n          const glowGradient = ctx.createRadialGradient(\n            star.x, star.y, 0,\n            star.x, star.y, glowSize\n          );\n          glowGradient.addColorStop(0, `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${finalOpacity * 0.8})`);\n          glowGradient.addColorStop(0.3, `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${finalOpacity * 0.4})`);\n          glowGradient.addColorStop(0.6, `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${finalOpacity * 0.15})`);\n          glowGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\n\n          ctx.fillStyle = glowGradient;\n          ctx.beginPath();\n          ctx.arc(star.x, star.y, glowSize, 0, Math.PI * 2);\n          ctx.fill();\n        }\n\n        if (star.layer === 1 && finalOpacity > 0.7) {\n          const flareLength = finalSize * 6;\n          const flareOpacity = finalOpacity * 0.3;\n          \n          ctx.strokeStyle = `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${flareOpacity})`;\n          ctx.lineWidth = 1;\n          ctx.beginPath();\n          ctx.moveTo(star.x - flareLength, star.y);\n          ctx.lineTo(star.x + flareLength, star.y);\n          ctx.moveTo(star.x, star.y - flareLength);\n          ctx.lineTo(star.x, star.y + flareLength);\n          ctx.stroke();\n        }\n\n        ctx.fillStyle = `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${finalOpacity})`;\n        ctx.beginPath();\n        ctx.arc(star.x, star.y, finalSize, 0, Math.PI * 2);\n        ctx.fill();\n\n        if (star.layer === 1) {\n          ctx.fillStyle = `rgba(255, 255, 255, ${finalOpacity * 0.8})`;\n          ctx.beginPath();\n          ctx.arc(star.x, star.y, finalSize * 0.4, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      });\n\n      if (timestamp - lastShootingStarRef.current > 2500 + Math.random() * 4000) {\n        createShootingStar();\n        if (Math.random() < 0.3) setTimeout(() => createShootingStar(), 200);\n        if (Math.random() < 0.15) setTimeout(() => createShootingStar(), 400);\n        lastShootingStarRef.current = timestamp;\n      }\n\n      if (timestamp - lastSupernovaRef.current > 15000 + Math.random() * 20000) {\n        const supernovaStar = starsRef.current.find(s => s.isSupernovaCandidate && s.layer === 1);\n        if (supernovaStar) {\n          createSupernova(supernovaStar.x, supernovaStar.y);\n          supernovaStar.isSupernovaCandidate = false;\n        }\n        lastSupernovaRef.current = timestamp;\n      }\n\n      if (timestamp - lastWaveRef.current > 8000 + Math.random() * 10000) {\n        createWave();\n        lastWaveRef.current = timestamp;\n      }\n\n      supernovasRef.current = supernovasRef.current.filter((supernova) => {\n        supernova.phase += 1;\n        const progress = supernova.phase / supernova.maxPhase;\n        if (progress >= 1) return false;\n\n        let currentRadius, currentOpacity;\n        if (progress < 0.3) {\n          currentRadius = supernova.maxRadius * (progress / 0.3);\n          currentOpacity = progress / 0.3;\n        } else if (progress < 0.5) {\n          currentRadius = supernova.maxRadius;\n          currentOpacity = 1;\n        } else {\n          currentRadius = supernova.maxRadius * (1 + (progress - 0.5) * 0.5);\n          currentOpacity = 1 - (progress - 0.5) / 0.5;\n        }\n\n        const gradient = ctx.createRadialGradient(\n          supernova.x, supernova.y, 0,\n          supernova.x, supernova.y, currentRadius\n        );\n        gradient.addColorStop(0, `rgba(255, 255, 255, ${currentOpacity})`);\n        gradient.addColorStop(0.2, `rgba(${supernova.color.r}, ${supernova.color.g}, ${supernova.color.b}, ${currentOpacity * 0.8})`);\n        gradient.addColorStop(0.5, `rgba(${supernova.color.r}, ${supernova.color.g}, ${supernova.color.b}, ${currentOpacity * 0.3})`);\n        gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\n\n        ctx.fillStyle = gradient;\n        ctx.beginPath();\n        ctx.arc(supernova.x, supernova.y, currentRadius, 0, Math.PI * 2);\n        ctx.fill();\n\n        if (progress < 0.6) {\n          const coreOpacity = progress < 0.3 ? progress / 0.3 : (0.6 - progress) / 0.3;\n          ctx.fillStyle = `rgba(255, 255, 255, ${coreOpacity})`;\n          ctx.beginPath();\n          ctx.arc(supernova.x, supernova.y, currentRadius * 0.15, 0, Math.PI * 2);\n          ctx.fill();\n        }\n\n        if (progress < 0.5) {\n          const rayOpacity = progress < 0.3 ? progress / 0.3 : (0.5 - progress) / 0.2;\n          const rayLength = currentRadius * 1.5;\n          ctx.strokeStyle = `rgba(255, 255, 255, ${rayOpacity * 0.5})`;\n          ctx.lineWidth = 2;\n          for (let i = 0; i < 8; i++) {\n            const angle = (Math.PI * 2 / 8) * i + progress * Math.PI;\n            ctx.beginPath();\n            ctx.moveTo(supernova.x, supernova.y);\n            ctx.lineTo(\n              supernova.x + Math.cos(angle) * rayLength,\n              supernova.y + Math.sin(angle) * rayLength\n            );\n            ctx.stroke();\n          }\n        }\n\n        return true;\n      });\n\n      sparkleClustersRef.current = sparkleClustersRef.current.filter((cluster) => {\n        cluster.life += 1;\n        const progress = cluster.life / cluster.maxLife;\n        if (progress >= 1) return false;\n\n        cluster.particles.forEach((particle) => {\n          particle.distance += particle.speed;\n          particle.opacity = (1 - progress) * 0.8;\n          \n          const px = cluster.x + Math.cos(particle.angle) * particle.distance;\n          const py = cluster.y + Math.sin(particle.angle) * particle.distance;\n          \n          const glowGradient = ctx.createRadialGradient(px, py, 0, px, py, particle.size * 3);\n          glowGradient.addColorStop(0, `rgba(255, 255, 255, ${particle.opacity})`);\n          glowGradient.addColorStop(0.5, `rgba(200, 230, 255, ${particle.opacity * 0.5})`);\n          glowGradient.addColorStop(1, 'rgba(100, 180, 255, 0)');\n          \n          ctx.fillStyle = glowGradient;\n          ctx.beginPath();\n          ctx.arc(px, py, particle.size * 3, 0, Math.PI * 2);\n          ctx.fill();\n\n          ctx.fillStyle = `rgba(255, 255, 255, ${particle.opacity})`;\n          ctx.beginPath();\n          ctx.arc(px, py, particle.size, 0, Math.PI * 2);\n          ctx.fill();\n        });\n\n        return true;\n      });\n\n      shootingStarsRef.current = shootingStarsRef.current.filter((star) => {\n        star.x += Math.cos(star.angle) * star.speed;\n        star.y += Math.sin(star.angle) * star.speed;\n        star.opacity -= 0.015;\n\n        if (Math.random() < 0.7) {\n          star.trailParticles.push({\n            x: star.x + (Math.random() - 0.5) * 3,\n            y: star.y + (Math.random() - 0.5) * 3,\n            opacity: star.opacity * 0.7,\n            size: Math.random() * 2 + 0.5\n          });\n        }\n\n        star.trailParticles = star.trailParticles.filter((particle) => {\n          particle.opacity -= 0.03;\n          if (particle.opacity <= 0) return false;\n\n          ctx.fillStyle = `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${particle.opacity})`;\n          ctx.beginPath();\n          ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n          ctx.fill();\n\n          return true;\n        });\n\n        if (star.opacity <= 0) return false;\n\n        const gradient = ctx.createLinearGradient(\n          star.x,\n          star.y,\n          star.x - Math.cos(star.angle) * star.length,\n          star.y - Math.sin(star.angle) * star.length\n        );\n        gradient.addColorStop(0, `rgba(255, 255, 255, ${star.opacity})`);\n        gradient.addColorStop(0.2, `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${star.opacity * 0.7})`);\n        gradient.addColorStop(1, `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, 0)`);\n\n        ctx.strokeStyle = gradient;\n        ctx.lineWidth = 3;\n        ctx.lineCap = 'round';\n        ctx.beginPath();\n        ctx.moveTo(star.x, star.y);\n        ctx.lineTo(\n          star.x - Math.cos(star.angle) * star.length,\n          star.y - Math.sin(star.angle) * star.length\n        );\n        ctx.stroke();\n\n        const headGlow = ctx.createRadialGradient(star.x, star.y, 0, star.x, star.y, 12);\n        headGlow.addColorStop(0, `rgba(255, 255, 255, ${star.opacity})`);\n        headGlow.addColorStop(0.3, `rgba(${star.color.r}, ${star.color.g}, ${star.color.b}, ${star.opacity * 0.6})`);\n        headGlow.addColorStop(1, 'rgba(100, 180, 255, 0)');\n        \n        ctx.fillStyle = headGlow;\n        ctx.beginPath();\n        ctx.arc(star.x, star.y, 12, 0, Math.PI * 2);\n        ctx.fill();\n\n        ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;\n        ctx.beginPath();\n        ctx.arc(star.x, star.y, 4, 0, Math.PI * 2);\n        ctx.fill();\n\n        return true;\n      });\n\n      if (Math.random() < 0.008) {\n        createSparkleCluster(\n          Math.random() * canvas.width,\n          Math.random() * canvas.height\n        );\n      }\n\n      animationFrameRef.current = requestAnimationFrame(animate);\n    };\n\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n    animationFrameRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('touchmove', handleTouchMove);\n      observer.disconnect();\n      if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n    };\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className=\"fixed inset-0 pointer-events-none z-0 transition-opacity duration-500\"\n      style={{ \n        background: 'transparent'\n      }}\n    />\n  );\n}\n"],"names":["StarField","canvasRef","useRef","starsRef","shootingStarsRef","glowOrbsRef","sparkleClustersRef","supernovasRef","wavesRef","animationFrameRef","lastShootingStarRef","lastSupernovaRef","lastWaveRef","mouseRef","themeRef","useEffect","canvas","ctx","checkTheme","theme","observer","resizeCanvas","initStars","initGlowOrbs","orbColors","i","starCount","starColors","layer","isSparkle","isSupernovaCandidate","createSparkleCluster","x","y","particles","particleCount","createSupernova","colors","createWave","createShootingStar","startX","startY","handleMouseMove","e","handleTouchMove","animate","timestamp","isLightMode","orb","pulse","currentRadius","currentOpacity","gradient","star","combinedTwinkle","sparkleBoost","sparklePhase","currentSize","drift","lightModeColor","glowSize","glowGradient","lightOpacity","wave","twinkle","twinkle2","dx","dy","distance","interactionRadius","interactionBoost","finalOpacity","finalSize","flareLength","flareOpacity","supernovaStar","s","supernova","progress","coreOpacity","rayOpacity","rayLength","angle","cluster","particle","px","py","headGlow","jsx"],"mappings":"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"}