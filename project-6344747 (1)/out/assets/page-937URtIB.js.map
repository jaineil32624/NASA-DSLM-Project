{"version":3,"file":"page-937URtIB.js","sources":["../../src/hooks/useFavorites.ts","../../src/pages/gallery/page.tsx"],"sourcesContent":["\nimport { useState, useEffect, useCallback } from 'react';\n\nconst FAVORITES_KEY = 'nasa-dslm-favorites';\n\nexport function useFavorites() {\n  const [favorites, setFavorites] = useState<string[]>([]);\n\n  // Load favorites from localStorage once on mount\n  useEffect(() => {\n    const stored = localStorage.getItem(FAVORITES_KEY);\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored);\n        // Ensure the parsed data is an array of strings\n        if (Array.isArray(parsed) && parsed.every(item => typeof item === 'string')) {\n          setFavorites(parsed);\n        } else {\n          setFavorites([]);\n        }\n      } catch {\n        // If JSON is malformed, reset to empty list\n        setFavorites([]);\n      }\n    }\n  }, []);\n\n  // Centralised saving logic with error handling\n  const saveFavorites = useCallback((newFavorites: string[]) => {\n    try {\n      localStorage.setItem(FAVORITES_KEY, JSON.stringify(newFavorites));\n      setFavorites(newFavorites);\n    } catch (e) {\n      console.error('Failed to save favorites to localStorage:', e);\n    }\n  }, []);\n\n  const addFavorite = useCallback(\n    (modelId: string) => {\n      if (!modelId) return;\n      // Avoid duplicates\n      if (!favorites.includes(modelId)) {\n        const newFavorites = [...favorites, modelId];\n        saveFavorites(newFavorites);\n      }\n    },\n    [favorites, saveFavorites]\n  );\n\n  const removeFavorite = useCallback(\n    (modelId: string) => {\n      if (!modelId) return;\n      const newFavorites = favorites.filter(id => id !== modelId);\n      saveFavorites(newFavorites);\n    },\n    [favorites, saveFavorites]\n  );\n\n  const toggleFavorite = useCallback(\n    (modelId: string) => {\n      if (!modelId) return;\n      if (favorites.includes(modelId)) {\n        removeFavorite(modelId);\n      } else {\n        addFavorite(modelId);\n      }\n    },\n    [favorites, addFavorite, removeFavorite]\n  );\n\n  const isFavorite = useCallback(\n    (modelId: string) => favorites.includes(modelId),\n    [favorites]\n  );\n\n  const clearAllFavorites = useCallback(() => {\n    saveFavorites([]);\n  }, [saveFavorites]);\n\n  return {\n    favorites,\n    addFavorite,\n    removeFavorite,\n    toggleFavorite,\n    isFavorite,\n    clearAllFavorites,\n    favoritesCount: favorites.length,\n  };\n}\n","\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { getApprovedModels, uploadImage, saveModel } from '../../lib/storage';\nimport type { Model } from '../../lib/storage';\nimport StarField from '../../components/base/StarField';\nimport Slideshow from '../../components/feature/Slideshow';\nimport Presentation from '../../components/feature/Presentation';\nimport ThemeToggle, { useTheme } from '../../components/feature/ThemeToggle';\nimport { useFavorites } from '../../hooks/useFavorites';\nimport { useMusicVisibility } from '../../hooks/useMusicVisibility';\nimport { useAgentVisibility } from '../../hooks/useAgentVisibility';\n\nconst CATEGORIES = [\n  { id: 'all', label: 'All', icon: 'ri-apps-line' },\n  { id: 'Planets', label: 'Planets', icon: 'ri-earth-line' },\n  { id: 'Moons', label: 'Moons', icon: 'ri-moon-line' },\n  { id: 'Spacecraft', label: 'Spacecraft', icon: 'ri-space-ship-line' },\n  { id: 'Rockets', label: 'Rockets', icon: 'ri-rocket-line' },\n  { id: 'Nebulae & Galaxies', label: 'Nebulae & Galaxies', icon: 'ri-sparkling-line' },\n  { id: 'Astronauts', label: 'Astronauts', icon: 'ri-user-star-line' },\n  { id: 'Satellites', label: 'Satellites', icon: 'ri-satellite-line' },\n  { id: 'Crewed Vehicles', label: 'Crewed Vehicles', icon: 'ri-capsule-line' },\n  { id: 'Asteroids & Comets', label: 'Asteroids & Comets', icon: 'ri-meteor-line' },\n  { id: 'Stars & Sun', label: 'Stars & Sun', icon: 'ri-sun-line' },\n  { id: 'Other', label: 'Other', icon: 'ri-more-line' },\n];\n\nconst MODEL_CATEGORIES = CATEGORIES.filter(c => c.id !== 'all');\n\nexport default function Gallery() {\n  const navigate = useNavigate();\n  const [models, setModels] = useState<Model[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState<'name' | 'newest' | 'oldest'>('newest');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedModel, setSelectedModel] = useState<Model | null>(null);\n  const [zoomLevel, setZoomLevel] = useState(1);\n  const [imagePosition, setImagePosition] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const [downloading, setDownloading] = useState(false);\n  const [showSlideshow, setShowSlideshow] = useState(false);\n  const [showPresentation, setShowPresentation] = useState(false);\n  const [showFavoritesOnly, setShowFavoritesOnly] = useState(false);\n  const [activeTab, setActiveTab] = useState<'browse' | 'upload'>('browse');\n\n  // Upload form state\n  const [uploadForm, setUploadForm] = useState({\n    name: '',\n    description: '',\n    category: 'Other'\n  });\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState('');\n  const [uploadErrors, setUploadErrors] = useState<Record<string, string>>({});\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadSuccess, setUploadSuccess] = useState(false);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  const { theme } = useTheme();\n  const { favorites, toggleFavorite, isFavorite, favoritesCount } = useFavorites();\n  const { hide: hideMusic, show: showMusic } = useMusicVisibility();\n  const { hide: hideAgent, show: showAgent } = useAgentVisibility();\n\n  useEffect(() => {\n    fetchModels();\n  }, []);\n\n  // Hide/show music and AI agent based on modal/slideshow/presentation state\n  useEffect(() => {\n    if (selectedModel !== null || showSlideshow || showPresentation) {\n      hideMusic();\n      hideAgent();\n    } else {\n      showMusic();\n      showAgent();\n    }\n  }, [selectedModel, showSlideshow, showPresentation, hideMusic, showMusic, hideAgent, showAgent]);\n\n  // Cleanup: show music and agent when leaving the page\n  useEffect(() => {\n    return () => {\n      showMusic();\n      showAgent();\n    };\n  }, [showMusic, showAgent]);\n\n  // Close modal on escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        setSelectedModel(null);\n        resetZoom();\n      }\n    };\n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, []);\n\n  // Reset zoom when model changes\n  useEffect(() => {\n    if (selectedModel) {\n      resetZoom();\n    }\n  }, [selectedModel]);\n\n  const fetchModels = async () => {\n    try {\n      setLoading(true);\n      const storedModels = await getApprovedModels();\n      setModels(storedModels);\n    } catch (error) {\n      console.error('Error fetching models:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Get category counts\n  const getCategoryCounts = () => {\n    const counts: Record<string, number> = { all: models.length };\n    models.forEach(model => {\n      const cat = model.category || 'Other';\n      counts[cat] = (counts[cat] || 0) + 1;\n    });\n    return counts;\n  };\n\n  const categoryCounts = getCategoryCounts();\n\n  // Filter and sort models\n  const filteredModels = models\n    .filter(model => {\n      const matchesSearch =\n        model.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        model.description.toLowerCase().includes(searchTerm.toLowerCase());\n\n      const matchesFavorites = showFavoritesOnly ? isFavorite(model.id) : true;\n      \n      const matchesCategory = selectedCategory === 'all' || model.category === selectedCategory;\n\n      return matchesSearch && matchesFavorites && matchesCategory;\n    })\n    .sort((a, b) => {\n      if (sortBy === 'name') {\n        return a.name.localeCompare(b.name);\n      } else if (sortBy === 'newest') {\n        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n      } else if (sortBy === 'oldest') {\n        return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\n      }\n      return 0;\n    });\n\n  const navigateModel = (direction: 'prev' | 'next') => {\n    if (!selectedModel) return;\n    const currentIndex = filteredModels.findIndex(m => m.id === selectedModel.id);\n    if (direction === 'prev' && currentIndex > 0) {\n      setSelectedModel(filteredModels[currentIndex - 1]);\n    } else if (direction === 'next' && currentIndex < filteredModels.length - 1) {\n      setSelectedModel(filteredModels[currentIndex + 1]);\n    }\n  };\n\n  // Zoom functions\n  const resetZoom = () => {\n    setZoomLevel(1);\n    setImagePosition({ x: 0, y: 0 });\n  };\n\n  const handleZoomIn = () => {\n    setZoomLevel(prev => Math.min(prev + 0.5, 4));\n  };\n\n  const handleZoomOut = () => {\n    setZoomLevel(prev => {\n      const newZoom = Math.max(prev - 0.5, 1);\n      if (newZoom === 1) {\n        setImagePosition({ x: 0, y: 0 });\n      }\n      return newZoom;\n    });\n  };\n\n  // Mouse drag handlers\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if (zoomLevel > 1) {\n      setIsDragging(true);\n      setDragStart({\n        x: e.clientX - imagePosition.x,\n        y: e.clientY - imagePosition.y\n      });\n    }\n  };\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (isDragging && zoomLevel > 1) {\n      setImagePosition({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  // Touch handlers for mobile\n  const handleTouchStart = (e: React.TouchEvent) => {\n    if (zoomLevel > 1 && e.touches.length === 1) {\n      setIsDragging(true);\n      setDragStart({\n        x: e.touches[0].clientX - imagePosition.x,\n        y: e.touches[0].clientY - imagePosition.y\n      });\n    }\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (isDragging && zoomLevel > 1 && e.touches.length === 1) {\n      setImagePosition({\n        x: e.touches[0].clientX - dragStart.x,\n        y: e.touches[0].clientY - dragStart.y\n      });\n    }\n  };\n\n  const handleTouchEnd = () => {\n    setIsDragging(false);\n  };\n\n  // Download function\n  const handleDownload = async () => {\n    if (!selectedModel?.imageUrl) return;\n\n    setDownloading(true);\n    try {\n      const response = await fetch(selectedModel.imageUrl);\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${selectedModel.name.replace(/\\s+/g, '_')}_${Date.now()}.jpg`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Download failed:', error);\n    } finally {\n      setDownloading(false);\n    }\n  };\n\n  // Get category icon\n  const getCategoryIcon = (category: string) => {\n    const cat = CATEGORIES.find(c => c.id === category);\n    return cat?.icon || 'ri-more-line';\n  };\n\n  // Upload form handlers\n  const validateUploadForm = () => {\n    const errors: Record<string, string> = {};\n\n    if (!uploadForm.name.trim()) {\n      errors.name = 'Model name is required';\n    } else if (uploadForm.name.length < 3) {\n      errors.name = 'Name must be at least 3 characters';\n    }\n\n    if (!uploadForm.description.trim()) {\n      errors.description = 'Description is required';\n    } else if (uploadForm.description.length < 10) {\n      errors.description = 'Description must be at least 10 characters';\n    }\n\n    if (!selectedFile && !imagePreview) {\n      errors.image = 'Please select an image file';\n    }\n\n    setUploadErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    processFile(file);\n  };\n\n  const processFile = (file: File) => {\n    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\n    if (!validTypes.includes(file.type)) {\n      setUploadErrors({ ...uploadErrors, image: 'Please upload an IMAGE file (JPG, PNG, GIF, or WebP). 3D model files are not supported.' });\n      return;\n    }\n\n    setSelectedFile(file);\n    setUploadErrors({ ...uploadErrors, image: '' });\n\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreview(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleDragEnter = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(false);\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(false);\n\n    const files = e.dataTransfer.files;\n    if (files && files.length > 0) {\n      processFile(files[0]);\n    }\n  };\n\n  const handleUploadSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateUploadForm()) {\n      return;\n    }\n\n    if (!selectedFile) {\n      setUploadErrors({ ...uploadErrors, image: 'Please select an image file' });\n      return;\n    }\n\n    setIsUploading(true);\n    setUploadSuccess(false);\n\n    try {\n      const imageUrl = await uploadImage(selectedFile);\n\n      await saveModel({\n        name: uploadForm.name.trim(),\n        description: uploadForm.description.trim(),\n        imageUrl,\n        category: uploadForm.category\n      });\n\n      setUploadSuccess(true);\n      setUploadForm({ name: '', description: '', category: 'Other' });\n      setSelectedFile(null);\n      setImagePreview('');\n      \n      setTimeout(() => {\n        setActiveTab('browse');\n        fetchModels();\n      }, 3000);\n    } catch (error) {\n      console.error('Error uploading model:', error);\n      setUploadErrors({ submit: 'Failed to upload model. Please try again.' });\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className={`min-h-screen relative overflow-hidden ${theme === 'light' ? 'bg-gradient-to-b from-sky-100 via-sky-50 to-sky-100' : 'bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950'}`}>\n      {/* Star Field Animation */}\n      <StarField />\n\n      {/* Animated Background Elements */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className={`absolute top-1/3 -left-1/4 w-[500px] h-[500px] ${theme === 'light' ? 'bg-teal-300/20' : 'bg-teal-500/5'} rounded-full blur-[100px] animate-pulse`}></div>\n        <div className={`absolute bottom-1/3 -right-1/4 w-[400px] h-[400px] ${theme === 'light' ? 'bg-cyan-300/20' : 'bg-cyan-500/5'} rounded-full blur-[80px] animate-pulse`} style={{ animationDelay: '1.5s' }}></div>\n      </div>\n\n      {/* Navigation */}\n      <nav className={`fixed top-0 left-0 right-0 z-50 backdrop-blur-md border-b ${theme === 'light' ? 'bg-white/80 border-slate-200' : 'bg-slate-950/80 border-slate-800'}`}>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <Link to=\"/\" className=\"flex items-center gap-3 group min-h-[44px]\">\n              <div className=\"relative\">\n                <i className=\"ri-rocket-2-line text-2xl sm:text-3xl text-teal-400 group-hover:animate-bounce\"></i>\n                <div className=\"absolute inset-0 bg-teal-400/20 blur-lg rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n              </div>\n              <span className={`text-lg sm:text-xl font-bold ${theme === 'light' ? 'text-slate-800' : 'text-white'}`}>NASA DSLM</span>\n            </Link>\n\n            {/* Spacer for mobile hamburger menu (handled globally) */}\n            <div className=\"lg:hidden w-14 h-14\"></div>\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden lg:flex items-center gap-6\">\n              <Link to=\"/\" className={`text-sm ${theme === 'light' ? 'text-slate-600 hover:text-teal-600' : 'text-slate-300 hover:text-teal-400'} transition-colors whitespace-nowrap`}>Home</Link>\n              <Link to=\"/gallery\" className=\"text-sm text-teal-400 transition-colors whitespace-nowrap\">Gallery</Link>\n              <Link to=\"/hunch\" className={`text-sm ${theme === 'light' ? 'text-slate-600 hover:text-teal-600' : 'text-slate-300 hover:text-teal-400'} transition-colors whitespace-nowrap`}>HUNCH Projects</Link>\n              <Link to=\"/videos\" className={`text-sm ${theme === 'light' ? 'text-slate-600 hover:text-teal-600' : 'text-slate-300 hover:text-teal-400'} transition-colors whitespace-nowrap`}>Space Videos</Link>\n              <Link to=\"/upload\" className={`text-sm ${theme === 'light' ? 'text-slate-600 hover:text-teal-600' : 'text-slate-300 hover:text-teal-400'} transition-colors whitespace-nowrap`}>Upload</Link>\n              <Link to=\"/resources\" className={`text-sm ${theme === 'light' ? 'text-slate-600 hover:text-teal-600' : 'text-slate-300 hover:text-teal-400'} transition-colors whitespace-nowrap`}>Resources</Link>\n              <Link to=\"/about\" className={`text-sm ${theme === 'light' ? 'text-slate-600 hover:text-teal-600' : 'text-slate-300 hover:text-teal-400'} transition-colors whitespace-nowrap`}>About</Link>\n              <ThemeToggle />\n              <Link to=\"/admin\" className=\"px-4 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-sm rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all shadow-lg shadow-teal-500/20 whitespace-nowrap\">Admin</Link>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Gallery Content */}\n      <div className=\"pt-24 sm:pt-32 pb-20 px-4 sm:px-6 relative z-10\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"text-center mb-8 sm:mb-12\">\n            <span className=\"text-teal-400 text-xs sm:text-sm font-semibold uppercase tracking-wider\">Collection</span>\n            <h1 className={`text-3xl sm:text-5xl font-bold mt-2 mb-4 ${theme === 'light' ? 'text-slate-800' : 'text-white'}`}>Space Gallery</h1>\n            <p className={`text-base sm:text-lg mb-4 ${theme === 'light' ? 'text-slate-600' : 'text-slate-300'}`}>Explore {models.length}+ stunning space images from planets to spacecraft</p>\n            \n            {/* Sharing tip message */}\n            <div className={`inline-flex items-center gap-2 px-5 py-3 rounded-full ${theme === 'light' ? 'bg-teal-50 border border-teal-200' : 'bg-teal-500/10 border border-teal-500/30'}`}>\n              <i className={`ri-share-forward-line ${theme === 'light' ? 'text-teal-600' : 'text-teal-400'}`}></i>\n              <span className={`text-sm ${theme === 'light' ? 'text-teal-700' : 'text-teal-300'}`}>\n                Share any image you love! <span className=\"font-semibold\">3D models & NASA space-related content</span> works best for our community.\n              </span>\n            </div>\n          </div>\n\n          {/* Tab Navigation */}\n          <div className=\"flex gap-3 mb-8 justify-center\">\n            <button\n              onClick={() => setActiveTab('browse')}\n              className={`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap cursor-pointer min-h-[44px] ${\n                activeTab === 'browse'\n                  ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/50'\n                  : theme === 'light' ? 'bg-white/60 text-slate-600 hover:bg-white/80' : 'bg-slate-800/50 text-slate-300 hover:bg-slate-800/70'\n              }`}\n            >\n              <i className=\"ri-gallery-line mr-2\"></i>\n              Browse Gallery\n            </button>\n            <button\n              onClick={() => setActiveTab('upload')}\n              className={`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap cursor-pointer min-h-[44px] ${\n                activeTab === 'upload'\n                  ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/50'\n                  : theme === 'light' ? 'bg-white/60 text-slate-600 hover:bg-white/80' : 'bg-slate-800/50 text-slate-300 hover:bg-slate-800/70'\n              }`}\n            >\n              <i className=\"ri-upload-cloud-line mr-2\"></i>\n              Upload Model\n            </button>\n          </div>\n\n          {/* Browse Gallery Tab */}\n          {activeTab === 'browse' && (\n            <>\n              {/* Search Bar and Controls */}\n              <div className=\"mb-6 sm:mb-8\">\n                <div className=\"max-w-4xl mx-auto relative\">\n                  <div className=\"absolute inset-0 bg-teal-500/10 blur-xl rounded-full\"></div>\n                  <div className=\"relative flex flex-col gap-3\">\n                    <div className=\"flex-1 relative\">\n                      <i className=\"ri-search-line absolute left-4 sm:left-5 top-1/2 -translate-y-1/2 text-slate-400 text-lg\"></i>\n                      <input\n                        type=\"text\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        placeholder=\"Search by name or description...\"\n                        className={`w-full pl-12 sm:pl-14 pr-4 sm:pr-6 py-3 sm:py-4 backdrop-blur-xl border rounded-xl text-sm placeholder-slate-500 focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all shadow-xl min-h-[44px] ${theme === 'light' ? 'bg-white/60 border-slate-300 text-slate-800' : 'bg-slate-900/60 border-slate-700/50 text-white shadow-black/10'}`}\n                      />\n                    </div>\n                    <div className=\"flex gap-3 flex-wrap\">\n                      <select\n                        value={sortBy}\n                        onChange={(e) => setSortBy(e.target.value as 'name' | 'newest' | 'oldest')}\n                        className={`flex-1 min-w-[140px] px-4 py-3 sm:py-4 backdrop-blur-xl border rounded-xl text-sm focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all shadow-xl cursor-pointer min-h-[44px] ${theme === 'light' ? 'bg-white/60 border-slate-300 text-slate-800' : 'bg-slate-900/60 border-slate-700/50 text-white shadow-black/10'}`}\n                      >\n                        <option value=\"newest\">Sort by Newest</option>\n                        <option value=\"oldest\">Sort by Oldest</option>\n                        <option value=\"name\">Sort by Name</option>\n                      </select>\n                      {filteredModels.length > 0 && (\n                        <>\n                          <button\n                            onClick={() => setShowSlideshow(true)}\n                            className=\"flex items-center justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold rounded-xl transition-all shadow-xl shadow-teal-500/30 whitespace-nowrap cursor-pointer min-h-[44px]\"\n                          >\n                            <i className=\"ri-play-circle-line text-xl\"></i>\n                            <span className=\"hidden sm:inline\">Slideshow</span>\n                          </button>\n                          <button\n                            onClick={() => setShowPresentation(true)}\n                            className=\"flex items-center justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-semibold rounded-xl transition-all shadow-xl shadow-pink-500/30 whitespace-nowrap cursor-pointer min-h-[44px]\"\n                          >\n                            <i className=\"ri-slideshow-line text-xl\"></i>\n                            <span className=\"hidden sm:inline\">Presentation</span>\n                          </button>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Category Filter */}\n              <div className=\"mb-6 sm:mb-8\">\n                <div className=\"flex flex-wrap items-center justify-center gap-2\">\n                  {CATEGORIES.filter(cat => cat.id === 'all' || (categoryCounts[cat.id] && categoryCounts[cat.id] > 0)).map((category) => (\n                    <button\n                      key={category.id}\n                      onClick={() => setSelectedCategory(category.id)}\n                      className={`px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all cursor-pointer whitespace-nowrap min-h-[40px] flex items-center gap-1.5 ${\n                        selectedCategory === category.id\n                          ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/30'\n                          : theme === 'light'\n                            ? 'bg-white/60 text-slate-600 border border-slate-300 hover:border-teal-500/50 hover:text-teal-600'\n                            : 'bg-slate-900/60 text-slate-300 border border-slate-700/50 hover:border-teal-500/50 hover:text-teal-400'\n                      }`}\n                    >\n                      <i className={`${category.icon} text-sm`}></i>\n                      <span>{category.label}</span>\n                      <span className=\"text-xs opacity-75\">({categoryCounts[category.id] || 0})</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Favorites Filter */}\n              <div className=\"mb-6 sm:mb-8 flex flex-wrap items-center justify-center gap-2 sm:gap-3\">\n                <button\n                  onClick={() => setShowFavoritesOnly(false)}\n                  className={`px-4 sm:px-5 py-2.5 rounded-full text-xs sm:text-sm font-medium transition-all cursor-pointer whitespace-nowrap min-h-[44px] flex items-center ${\n                    !showFavoritesOnly\n                      ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/30'\n                      : theme === 'light'\n                        ? 'bg-white/60 text-slate-600 border border-slate-300 hover:border-teal-500/50 hover:text-teal-600'\n                        : 'bg-slate-900/60 text-slate-300 border border-slate-700/50 hover:border-teal-500/50 hover:text-teal-400'\n                  }`}\n                >\n                  All Models\n                  <span className=\"ml-2 text-xs opacity-75\">({models.length})</span>\n                </button>\n                <button\n                  onClick={() => setShowFavoritesOnly(true)}\n                  className={`px-4 sm:px-5 py-2.5 rounded-full text-xs sm:text-sm font-medium transition-all cursor-pointer whitespace-nowrap min-h-[44px] flex items-center ${\n                    showFavoritesOnly\n                      ? 'bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-lg shadow-rose-500/30'\n                      : theme === 'light'\n                        ? 'bg-white/60 text-slate-600 border border-slate-300 hover:border-rose-500/50 hover:text-rose-600'\n                        : 'bg-slate-900/60 text-slate-300 border border-slate-700/50 hover:border-rose-500/50 hover:text-rose-400'\n                  }`}\n                >\n                  <i className=\"ri-heart-fill mr-1.5 text-rose-400\"></i>\n                  Favorites\n                  <span className=\"ml-2 text-xs opacity-75\">({favoritesCount})</span>\n                </button>\n              </div>\n\n              {/* Results Count */}\n              <div className=\"mb-6 text-center\">\n                <p className={`text-sm ${theme === 'light' ? 'text-slate-500' : 'text-slate-400'}`}>\n                  Showing <span className=\"text-teal-400 font-semibold\">{filteredModels.length}</span> models\n                  {searchTerm && <span> matching \"<span className={theme === 'light' ? 'text-slate-800' : 'text-white'}>{searchTerm}</span>\"</span>}\n                  {selectedCategory !== 'all' && <span> in <span className={theme === 'light' ? 'text-slate-800' : 'text-white'}>{selectedCategory}</span></span>}\n                </p>\n              </div>\n\n              {/* Loading State */}\n              {loading && (\n                <div className=\"text-center py-20\">\n                  <div className=\"relative inline-block\">\n                    <i className=\"ri-loader-4-line text-5xl text-teal-400 animate-spin\"></i>\n                    <div className=\"absolute inset-0 bg-teal-400/20 blur-xl rounded-full\"></div>\n                  </div>\n                  <p className={`mt-4 ${theme === 'light' ? 'text-slate-500' : 'text-slate-400'}`}>Loading models from database...</p>\n                </div>\n              )}\n\n              {/* Empty State */}\n              {!loading && filteredModels.length === 0 && (\n                <div className={`text-center py-20 backdrop-blur-sm border rounded-2xl ${theme === 'light' ? 'bg-white/30 border-slate-200' : 'bg-slate-900/30 border-slate-800'}`}>\n                  <div className={`w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center ${theme === 'light' ? 'bg-slate-200/50' : 'bg-slate-800/50'}`}>\n                    <i className={`ri-search-line text-5xl ${theme === 'light' ? 'text-slate-400' : 'text-slate-600'}`}></i>\n                  </div>\n                  <p className={`text-xl mb-2 ${theme === 'light' ? 'text-slate-500' : 'text-slate-400'}`}>\n                    {showFavoritesOnly ? 'No favorites yet' : 'No models found'}\n                  </p>\n                  <p className={`text-sm ${theme === 'light' ? 'text-slate-400' : 'text-slate-500'}`}>\n                    {showFavoritesOnly ? 'Click the heart icon on models to add them to favorites' : 'Try adjusting your search or category filter'}\n                  </p>\n                  {!showFavoritesOnly && selectedCategory !== 'all' && (\n                    <button\n                      onClick={() => setSelectedCategory('all')}\n                      className=\"inline-flex items-center gap-2 mt-6 px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all cursor-pointer\"\n                    >\n                      <i className=\"ri-apps-line\"></i>\n                      View All Categories\n                    </button>\n                  )}\n                </div>\n              )}\n\n              {/* Models Grid */}\n              {!loading && filteredModels.length > 0 && (\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6\">\n                  {filteredModels.map((model, index) => (\n                    <div\n                      key={model.id}\n                      className={`backdrop-blur-xl border rounded-2xl overflow-hidden hover:border-teal-500/50 transition-all group shadow-xl hover:shadow-2xl hover:shadow-teal-500/10 cursor-pointer animate-fadeIn ${theme === 'light' ? 'bg-white/60 border-slate-200 shadow-slate-200/50' : 'bg-slate-900/60 border-slate-700/50 shadow-black/10'}`}\n                      style={{ animationDelay: `${(index % 20) * 0.05}s` }}\n                    >\n                      <div\n                        className=\"relative w-full h-48 bg-slate-800 overflow-hidden\"\n                        onClick={() => setSelectedModel(model)}\n                      >\n                        <img\n                          src={model.imageUrl}\n                          alt={model.name}\n                          className=\"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-500\"\n                          loading=\"lazy\"\n                        />\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n                        {/* Favorite Button */}\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            toggleFavorite(model.id);\n                          }}\n                          className={`absolute top-2 left-2 w-9 h-9 flex items-center justify-center rounded-full backdrop-blur-sm transition-all cursor-pointer hover:scale-110 active:scale-90 ${\n                            isFavorite(model.id)\n                              ? 'bg-rose-500 text-white'\n                              : theme === 'light' ? 'bg-white/80 text-slate-400 hover:text-rose-500' : 'bg-slate-900/80 text-slate-400 hover:text-rose-500'\n                          }`}\n                        >\n                          <i className={`${isFavorite(model.id) ? 'ri-heart-fill' : 'ri-heart-line'} text-lg`}></i>\n                        </button>\n                        <div className=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\n                          <div className=\"w-12 h-12 flex items-center justify-center bg-teal-500/90 rounded-full backdrop-blur-sm\">\n                            <i className=\"ri-zoom-in-line text-xl text-white\"></i>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"p-4\" onClick={() => setSelectedModel(model)}>\n                        <h3 className={`text-base font-bold mb-1.5 group-hover:text-teal-400 transition-colors line-clamp-1 ${theme === 'light' ? 'text-slate-800' : 'text-white'}`}>{model.name}</h3>\n                        <p className={`text-xs mb-3 line-clamp-2 ${theme === 'light' ? 'text-slate-500' : 'text-slate-400'}`}>{model.description}</p>\n                        <div className=\"flex items-center justify-between text-xs\">\n                          <span className={`px-2 py-0.5 rounded flex items-center gap-1 ${theme === 'light' ? 'bg-teal-100 text-teal-700' : 'bg-teal-500/20 text-teal-400'}`}>\n                            <i className={`${getCategoryIcon(model.category)} text-xs`}></i>\n                            {model.category || 'Other'}\n                          </span>\n                          <span className={theme === 'light' ? 'text-slate-400' : 'text-slate-500'}>\n                            {new Date(model.createdAt).toLocaleDateString()}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n\n          {/* Upload Model Tab */}\n          {activeTab === 'upload' && (\n            <div className=\"max-w-4xl mx-auto\">\n              <div className={`backdrop-blur-xl border rounded-2xl p-6 sm:p-8 shadow-2xl ${theme === 'light' ? 'bg-white/60 border-slate-200 shadow-slate-200/50' : 'bg-slate-900/60 border-slate-700/50 shadow-black/20'}`}>\n                <div className=\"mb-6\">\n                  <h2 className={`text-2xl font-bold mb-2 ${theme === 'light' ? 'text-slate-800' : 'text-white'}`}>Upload 3D Model Image</h2>\n                  <p className={`text-sm ${theme === 'light' ? 'text-slate-600' : 'text-slate-400'}`}>\n                    Share your 3D model images with the community. Your submission will be reviewed by an admin before appearing in the gallery.\n                  </p>\n                </div>\n\n                {/* Helpful tip box */}\n                <div className={`mb-6 p-4 rounded-xl border ${theme === 'light' ? 'bg-teal-50 border-teal-200' : 'bg-teal-500/10 border-teal-500/30'}`}>\n                  <div className=\"flex items-start gap-3\">\n                    <div className={`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${theme === 'light' ? 'bg-teal-100' : 'bg-teal-500/20'}`}>\n                      <i className={`ri-lightbulb-flash-line text-xl ${theme === 'light' ? 'text-teal-600' : 'text-teal-400'}`}></i>\n                    </div>\n                    <div>\n                      <h3 className={`font-semibold mb-1 ${theme === 'light' ? 'text-teal-800' : 'text-teal-300'}`}>Upload anything you want!</h3>\n                      <p className={`text-sm ${theme === 'light' ? 'text-teal-700' : 'text-teal-400/80'}`}>\n                        Feel free to share any image, but <strong>3D model renders, NASA imagery, space exploration photos, and astronomy content</strong> are greatly appreciated! Screenshots, renders, and artistic space visualizations are all welcome.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {uploadSuccess && (\n                  <div className=\"mb-6 p-4 bg-teal-500/10 border border-teal-500/50 rounded-lg text-teal-400 flex items-center gap-3\">\n                    <i className=\"ri-checkbox-circle-line text-xl\"></i>\n                    <span>Model uploaded successfully! Your submission is pending admin approval.</span>\n                  </div>\n                )}\n\n                {uploadErrors.submit && (\n                  <div className=\"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-lg text-red-400 flex items-center gap-3\">\n                    <i className=\"ri-error-warning-line text-xl\"></i>\n                    <span>{uploadErrors.submit}</span>\n                  </div>\n                )}\n\n                <form onSubmit={handleUploadSubmit} className=\"space-y-6\">\n                  {/* Model Name */}\n                  <div>\n                    <label className={`block text-sm font-semibold mb-2 ${theme === 'light' ? 'text-slate-700' : 'text-white'}`}>\n                      Model Name <span className=\"text-red-400\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <i className={`ri-cube-line absolute left-4 top-1/2 -translate-y-1/2 ${theme === 'light' ? 'text-slate-400' : 'text-slate-400'}`}></i>\n                      <input\n                        type=\"text\"\n                        value={uploadForm.name}\n                        onChange={(e) => setUploadForm({ ...uploadForm, name: e.target.value })}\n                        className={`w-full pl-12 pr-4 py-3 border rounded-lg text-sm placeholder-slate-500 focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all min-h-[44px] ${theme === 'light' ? 'bg-white border-slate-300 text-slate-800' : 'bg-slate-800/50 border-slate-700 text-white'}`}\n                        placeholder=\"Enter model name (e.g., Mars Rover, Space Station)\"\n                      />\n                    </div>\n                    {uploadErrors.name && (\n                      <p className=\"mt-2 text-sm text-red-400 flex items-center gap-1\">\n                        <i className=\"ri-error-warning-line\"></i>\n                        {uploadErrors.name}\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Category */}\n                  <div>\n                    <label className={`block text-sm font-semibold mb-2 ${theme === 'light' ? 'text-slate-700' : 'text-white'}`}>\n                      Category <span className=\"text-red-400\">*</span>\n                    </label>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\n                      {MODEL_CATEGORIES.map((category) => (\n                        <button\n                          key={category.id}\n                          type=\"button\"\n                          onClick={() => setUploadForm({ ...uploadForm, category: category.id })}\n                          className={`px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all cursor-pointer flex items-center gap-2 min-h-[44px] ${\n                            uploadForm.category === category.id\n                              ? 'bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/30'\n                              : theme === 'light'\n                                ? 'bg-slate-100 text-slate-600 border border-slate-200 hover:border-teal-500/50 hover:text-teal-600'\n                                : 'bg-slate-800/50 text-slate-300 border border-slate-700 hover-border-teal-500/50 hover:text-teal-400'\n                          }`}\n                        >\n                          <i className={`${category.icon} text-base`}></i>\n                          <span className=\"truncate\">{category.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Description */}\n                  <div>\n                    <label className={`block text-sm font-semibold mb-2 ${theme === 'light' ? 'text-slate-700' : 'text-white'}`}>\n                      Description <span className=\"text-red-400\">*</span>\n                    </label>\n                    <textarea\n                      value={uploadForm.description}\n                      onChange={(e) => setUploadForm({ ...uploadForm, description: e.target.value })}\n                      rows={4}\n                      maxLength={500}\n                      className={`w-full px-4 py-3 border rounded-lg text-sm placeholder-slate-500 focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all resize-none ${theme === 'light' ? 'bg-white border-slate-300 text-slate-800' : 'bg-slate-800/50 border-slate-700 text-white'}`}\n                      placeholder=\"Describe your 3D model - what it represents, how it was created, etc.\"\n                    />\n                    <div className=\"flex justify-between mt-2\">\n                      {uploadErrors.description ? (\n                        <p className=\"text-sm text-red-400 flex items-center gap-1\">\n                          <i className=\"ri-error-warning-line\"></i>\n                          {uploadErrors.description}\n                        </p>\n                      ) : (\n                        <span></span>\n                      )}\n                      <span className={`text-xs ${theme === 'light' ? 'text-slate-500' : 'text-slate-500'}`}>{uploadForm.description.length}/500</span>\n                    </div>\n                  </div>\n\n                  {/* Image Upload */}\n                  <div>\n                    <label className={`block text-sm font-semibold mb-2 ${theme === 'light' ? 'text-slate-700' : 'text-white'}`}>\n                      Model Image <span className=\"text-red-400\">*</span>\n                    </label>\n                    <p className={`text-xs mb-3 ${theme === 'light' ? 'text-slate-500' : 'text-slate-400'}`}>\n                      <i className=\"ri-lightbulb-line text-amber-400 mr-1\"></i>\n                      Upload a <strong>screenshot, render, or photo</strong> of your 3D model. Actual 3D files are not supported.\n                    </p>\n                    <div \n                      className=\"relative\"\n                      onDragEnter={handleDragEnter}\n                      onDragLeave={handleDragLeave}\n                      onDragOver={handleDragOver}\n                      onDrop={handleDrop}\n                    >\n                      <input\n                        type=\"file\"\n                        accept=\"image/jpeg,image/jpg,image/png,image/gif,image/webp\"\n                        onChange={handleFileChange}\n                        className=\"hidden\"\n                        id=\"gallery-file-upload\"\n                      />\n                      <label\n                        htmlFor=\"gallery-file-upload\"\n                        className={`flex items-center justify-center w-full px-4 py-10 border-2 border-dashed rounded-xl cursor-pointer transition-all group ${\n                          isDragOver\n                            ? 'border-teal-500 bg-teal-500/10 scale-[1.02]'\n                            : theme === 'light' \n                              ? 'bg-slate-50 border-slate-300 hover:border-teal-500 hover:bg-slate-100' \n                              : 'bg-slate-800/50 border-slate-700 hover:border-teal-500 hover:bg-slate-800/70'\n                        }`}\n                      >\n                        <div className=\"text-center\">\n                          <div className={`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center transition-colors ${\n                            isDragOver\n                              ? 'bg-teal-500/20'\n                              : theme === 'light' \n                                ? 'bg-slate-200 group-hover:bg-teal-500/20' \n                                : 'bg-slate-700/50 group-hover:bg-teal-500/20'\n                          }`}>\n                            <i className={`text-3xl transition-colors ${\n                              isDragOver\n                                ? 'ri-download-2-line text-teal-400 animate-bounce'\n                                : 'ri-image-add-line group-hover:text-teal-400 ' + (theme === 'light' ? 'text-slate-400' : 'text-slate-400')\n                            }`}></i>\n                          </div>\n                          <p className={`text-sm mb-1 font-semibold ${theme === 'light' ? 'text-slate-700' : 'text-white'}`}>\n                            {isDragOver \n                              ? 'Drop your image here!' \n                              : selectedFile \n                                ? selectedFile.name \n                                : 'Drag & drop an image or click to browse'}\n                          </p>\n                          <p className={`text-xs ${theme === 'light' ? 'text-slate-500' : 'text-slate-500'}`}>\n                            Supported formats: JPG, PNG, GIF, WebP\n                          </p>\n                        </div>\n                      </label>\n                    </div>\n                    {uploadErrors.image && (\n                      <p className=\"mt-2 text-sm text-red-400 flex items-start gap-1\">\n                        <i className=\"ri-error-warning-line mt-0.5\"></i>\n                        <span>{uploadErrors.image}</span>\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Image Preview */}\n                  {imagePreview && (\n                    <div>\n                      <label className={`block text-sm font-semibold mb-2 ${theme === 'light' ? 'text-slate-700' : 'text-white'}`}>\n                        Image Preview\n                      </label>\n                      <div className={`relative w-full h-64 sm:h-80 border rounded-xl overflow-hidden ${theme === 'light' ? 'bg-slate-100 border-slate-300' : 'bg-slate-800 border-slate-700'}`}>\n                        <img\n                          src={imagePreview}\n                          alt=\"Preview\"\n                          className=\"w-full h-full object-cover object-top\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setSelectedFile(null);\n                            setImagePreview('');\n                          }}\n                          className=\"absolute top-4 right-4 w-10 h-10 flex items-center justify-center bg-red-500/90 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg cursor-pointer min-h-[44px] min-w-[44px]\"\n                        >\n                          <i className=\"ri-close-line text-xl\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Submit Button */}\n                  <div className=\"flex flex-col sm:flex-row items-center gap-3 sm:gap-4 pt-4\">\n                    <button\n                      type=\"submit\"\n                      disabled={isUploading}\n                      className=\"w-full sm:flex-1 px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap shadow-lg shadow-teal-500/25 hover:shadow-teal-500/40 hover:scale-[1.02] active:scale-[0.98] min-h-[44px] cursor-pointer\"\n                    >\n                      {isUploading ? (\n                        <span className=\"flex items-center justify-center gap-2\">\n                          <i className=\"ri-loader-4-line animate-spin\"></i>\n                          Uploading...\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center justify-center gap-2\">\n                          <i className=\"ri-upload-cloud-line\"></i>\n                          Upload Model\n                        </span>\n                      )}\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setActiveTab('browse')}\n                      className={`w-full sm:w-auto px-6 py-3 font-semibold rounded-lg transition-colors whitespace-nowrap text-center min-h-[44px] flex items-center justify-center cursor-pointer ${theme === 'light' ? 'bg-slate-200 text-slate-700 hover:bg-slate-300' : 'bg-slate-800 text-white hover:bg-slate-700'}`}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Slideshow Mode */}\n      {showSlideshow && (\n        <Slideshow\n          models={filteredModels.map(m => ({\n            id: m.id,\n            name: m.name,\n            description: m.description,\n            imageUrl: m.imageUrl,\n            createdAt: m.createdAt\n          }))}\n          onClose={() => setShowSlideshow(false)}\n          initialIndex={0}\n        />\n      )}\n\n      {/* Presentation Mode */}\n      {showPresentation && (\n        <Presentation\n          models={filteredModels.map(m => ({\n            id: m.id,\n            name: m.name,\n            description: m.description,\n            imageUrl: m.imageUrl,\n            createdAt: m.createdAt\n          }))}\n          onClose={() => setShowPresentation(false)}\n          initialIndex={0}\n        />\n      )}\n\n      {/* Image Detail Modal with Zoom */}\n      {selectedModel && (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center\">\n          {/* Backdrop */}\n          <div\n            className=\"absolute inset-0 bg-black/90 backdrop-blur-md\"\n            onClick={() => {\n              setSelectedModel(null);\n              resetZoom();\n            }}\n          ></div>\n\n          {/* Navigation Arrows */}\n          {filteredModels.findIndex(m => m.id === selectedModel.id) > 0 && (\n            <button\n              onClick={(e) => { e.stopPropagation(); navigateModel('prev'); }}\n              className=\"absolute left-2 sm:left-4 md:left-8 top-1/2 -translate-y-1/2 z-10 w-11 h-11 sm:w-12 sm:h-12 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]\"\n            >\n              <i className=\"ri-arrow-left-s-line text-2xl\"></i>\n            </button>\n          )}\n          {filteredModels.findIndex(m => m.id === selectedModel.id) < filteredModels.length - 1 && (\n            <button\n              onClick={(e) => { e.stopPropagation(); navigateModel('next'); }}\n              className=\"absolute right-2 sm:right-4 md:right-8 top-1/2 -translate-y-1/2 z-10 w-11 h-11 sm:w-12 sm:h-12 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]\"\n            >\n              <i className=\"ri-arrow-right-s-line text-2xl\"></i>\n            </button>\n          )}\n\n          {/* Close Button */}\n          <button\n            onClick={() => {\n              setSelectedModel(null);\n              resetZoom();\n            }}\n            className=\"absolute top-2 right-2 sm:top-4 sm:right-4 md:top-6 md:right-6 z-10 w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-red-500/80 border border-slate-700 hover:border-red-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]\"\n          >\n            <i className=\"ri-close-line text-xl\"></i>\n          </button>\n\n          {/* Favorite Button in Modal */}\n          <button\n            onClick={() => toggleFavorite(selectedModel.id)}\n            className={`absolute top-2 right-16 sm:top-4 sm:right-20 md:top-6 md:right-24 z-10 w-11 h-11 flex items-center justify-center rounded-full border transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px] ${\n              isFavorite(selectedModel.id)\n                ? 'bg-rose-500 border-rose-400 text-white'\n                : 'bg-slate-800/80 border-slate-700 text-white hover:bg-rose-500/80 hover:border-rose-400'\n            }`}\n          >\n            <i className={`${isFavorite(selectedModel.id) ? 'ri-heart-fill' : 'ri-heart-line'} text-xl`}></i>\n          </button>\n\n          {/* Zoom Controls */}\n          <div className=\"absolute top-16 sm:top-20 right-2 sm:right-4 md:right-6 z-10 flex flex-col gap-2\">\n            <button\n              onClick={handleZoomIn}\n              disabled={zoomLevel >= 4}\n              className=\"w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-slate-800/80 active:scale-90 min-h-[44px] min-w-[44px]\"\n            >\n              <i className=\"ri-zoom-in-line text-xl\"></i>\n            </button>\n            <button\n              onClick={handleZoomOut}\n              disabled={zoomLevel <= 1}\n              className=\"w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-slate-800/80 active:scale-90 min-h-[44px] min-w-[44px]\"\n            >\n              <i className=\"ri-zoom-out-line text-xl\"></i>\n            </button>\n            {zoomLevel > 1 && (\n              <button\n                onClick={resetZoom}\n                className=\"w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]\"\n              >\n                <i className=\"ri-refresh-line text-xl\"></i>\n              </button>\n            )}\n            <div className=\"w-11 h-11 flex items-center justify-center bg-slate-800/80 border border-slate-700 rounded-full text-white text-xs min-h-[44px] min-w-[44px]\">\n              {Math.round(zoomLevel * 100)}%\n            </div>\n          </div>\n\n          {/* Download Button */}\n          <button\n            onClick={handleDownload}\n            disabled={downloading}\n            className=\"absolute top-2 left-2 sm:top-4 sm:left-4 md:top-6 md:left-6 z-10 flex items-center gap-2 px-3 sm:px-4 py-2 bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap active:scale-95 min-h-[44px]\"\n          >\n            {downloading ? (\n              <>\n                <i className=\"ri-loader-4-line text-lg animate-spin\"></i>\n                <span className=\"text-sm hidden md:inline\">Downloading...</span>\n              </>\n            ) : (\n              <>\n                <i className=\"ri-download-line text-lg\"></i>\n                <span className=\"text-sm hidden md:inline\">Download</span>\n              </>\n            )}\n          </button>\n\n          {/* Modal Content */}\n          <div\n            className=\"relative z-10 w-full max-w-6xl mx-2 sm:mx-4 max-h-[90vh] overflow-hidden flex flex-col lg:flex-row bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Image Section with Zoom */}\n            <div\n              className=\"lg:w-2/3 relative bg-slate-950 flex items-center justify-center min-h-[300px] lg:min-h-[500px] overflow-hidden touch-none\"\n              onMouseDown={handleMouseDown}\n              onMouseMove={handleMouseMove}\n              onMouseUp={handleMouseUp}\n              onMouseLeave={handleMouseUp}\n              onTouchStart={handleTouchStart}\n              onTouchMove={handleTouchMove}\n              onTouchEnd={handleTouchEnd}\n              style={{ cursor: zoomLevel > 1 ? (isDragging ? 'grabbing' : 'grab') : 'default' }}\n            >\n              <img\n                src={selectedModel.imageUrl}\n                alt={selectedModel.name}\n                className=\"max-w-full max-h-[50vh] lg:max-h-[80vh] object-contain transition-transform duration-300 select-none\"\n                style={{\n                  transform: `scale(${zoomLevel}) translate(${imagePosition.x / zoomLevel}px, ${imagePosition.y / zoomLevel}px)`,\n                  transformOrigin: 'center center'\n                }}\n                draggable={false}\n              />\n\n              {/* Image Counter */}\n              <div className=\"absolute bottom-4 left-4 px-3 py-1.5 bg-slate-900/80 backdrop-blur-sm rounded-full text-xs text-slate-300\">\n                {filteredModels.findIndex(m => m.id === selectedModel.id) + 1} / {filteredModels.length}\n              </div>\n\n              {/* Zoom Hint */}\n              {zoomLevel > 1 && (\n                <div className=\"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-teal-500/80 backdrop-blur-sm rounded-full text-xs text-white\">\n                  <i className=\"ri-drag-move-line mr-1\"></i>\n                  Drag to pan\n                </div>\n              )}\n            </div>\n\n            {/* Details Section */}\n            <div className=\"lg:w-1/3 p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[40vh] lg:max-h-[80vh] bg-slate-900/50\">\n              <div className=\"mb-6\">\n                <div className=\"flex items-center gap-2 mb-3 flex-wrap\">\n                  <span className={`inline-flex items-center gap-1 px-3 py-1 text-xs font-semibold rounded-full ${theme === 'light' ? 'bg-teal-100 text-teal-700' : 'bg-teal-500/20 text-teal-400'}`}>\n                    <i className={`${getCategoryIcon(selectedModel.category)} text-xs`}></i>\n                    {selectedModel.category || 'Other'}\n                  </span>\n                  {isFavorite(selectedModel.id) && (\n                    <span className=\"inline-block px-3 py-1 bg-rose-500/20 text-rose-400 text-xs font-semibold rounded-full\">\n                      <i className=\"ri-heart-fill mr-1\"></i>Favorited\n                    </span>\n                  )}\n                </div>\n                <h2 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-3\">{selectedModel.name}</h2>\n                <div className=\"flex items-center gap-2 text-sm text-slate-400\">\n                  <i className=\"ri-calendar-line\"></i>\n                  <span>Added {new Date(selectedModel.createdAt).toLocaleDateString()}</span>\n                </div>\n              </div>\n\n              <div className=\"mb-6\">\n                <h3 className=\"text-sm font-semibold text-teal-400 uppercase tracking-wider mb-3\">Description</h3>\n                <p className=\"text-slate-300 leading-relaxed text-sm\">{selectedModel.description}</p>\n              </div>\n\n              <div className=\"pt-6 border-t border-slate-700/50 space-y-3\">\n                <button\n                  onClick={() => toggleFavorite(selectedModel.id)}\n                  className={`w-full px-5 py-2.5 text-sm font-semibold rounded-lg transition-all shadow-lg whitespace-nowrap cursor-pointer active:scale-95 min-h-[44px] ${\n                    isFavorite(selectedModel.id)\n                      ? 'bg-rose-500 text-white hover:bg-rose-600 shadow-rose-500/25'\n                      : 'bg-slate-800 text-white hover:bg-rose-500 border border-slate-700'\n                  }`}\n                >\n                  <i className={`${isFavorite(selectedModel.id) ? 'ri-heart-fill' : 'ri-heart-line'} mr-2`}></i>\n                  {isFavorite(selectedModel.id) ? 'Remove from Favorites' : 'Add to Favorites'}\n                </button>\n                <button\n                  onClick={() => {\n                    setSelectedModel(null);\n                    resetZoom();\n                  }}\n                  className=\"w-full px-5 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-sm font-semibold rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all shadow-lg shadow-teal-500/25 whitespace-nowrap cursor-pointer active:scale-95 min-h-[44px]\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Keyboard Hint - Hidden on mobile */}\n          <div className=\"hidden sm:flex absolute bottom-4 left-1/2 -translate-x-1/2 items-center gap-4 text-xs text-slate-500\">\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"px-2 py-1 bg-slate-800 rounded text-slate-400\"></kbd>\n              <kbd className=\"px-2 py-1 bg-slate-800 rounded text-slate-400\"></kbd>\n              Navigate\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"px-2 py-1 bg-slate-800 rounded text-slate-400\">ESC</kbd>\n              Close\n            </span>\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.5s ease-out forwards;\n          opacity: 0;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":["FAVORITES_KEY","useFavorites","favorites","setFavorites","useState","useEffect","stored","parsed","item","saveFavorites","useCallback","newFavorites","e","addFavorite","modelId","removeFavorite","id","toggleFavorite","isFavorite","clearAllFavorites","CATEGORIES","MODEL_CATEGORIES","c","Gallery","useNavigate","models","setModels","loading","setLoading","searchTerm","setSearchTerm","sortBy","setSortBy","selectedCategory","setSelectedCategory","selectedModel","setSelectedModel","zoomLevel","setZoomLevel","imagePosition","setImagePosition","isDragging","setIsDragging","dragStart","setDragStart","downloading","setDownloading","showSlideshow","setShowSlideshow","showPresentation","setShowPresentation","showFavoritesOnly","setShowFavoritesOnly","activeTab","setActiveTab","uploadForm","setUploadForm","selectedFile","setSelectedFile","imagePreview","setImagePreview","uploadErrors","setUploadErrors","isUploading","setIsUploading","uploadSuccess","setUploadSuccess","isDragOver","setIsDragOver","theme","useTheme","favoritesCount","hideMusic","showMusic","useMusicVisibility","hideAgent","showAgent","useAgentVisibility","fetchModels","handleEscape","resetZoom","storedModels","getApprovedModels","error","categoryCounts","counts","model","cat","filteredModels","matchesSearch","matchesFavorites","matchesCategory","a","b","navigateModel","direction","currentIndex","m","handleZoomIn","prev","handleZoomOut","newZoom","handleMouseDown","handleMouseMove","handleMouseUp","handleTouchStart","handleTouchMove","handleTouchEnd","handleDownload","blob","url","link","getCategoryIcon","category","validateUploadForm","errors","handleFileChange","file","processFile","reader","handleDragEnter","handleDragLeave","handleDragOver","handleDrop","files","handleUploadSubmit","imageUrl","uploadImage","saveModel","jsxs","jsx","StarField","Link","ThemeToggle","Fragment","index","Slideshow","Presentation"],"mappings":"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"}