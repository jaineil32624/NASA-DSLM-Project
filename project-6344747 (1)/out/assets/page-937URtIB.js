import{r as a,a as Me,u as Fe,b as Ee,c as Pe,j as e,L as u,T as Ue}from"./index-AvrGzOtm.js";import{g as Te,u as Le,s as Oe}from"./storage-3ayk4bPd.js";import{S as Ie}from"./StarField-DPmaz_7m.js";import{S as ze,P as Ge}from"./Presentation-COp9iR3Y.js";const me="nasa-dslm-favorites";function Re(){const[o,v]=a.useState([]);a.useEffect(()=>{const i=localStorage.getItem(me);if(i)try{const m=JSON.parse(i);Array.isArray(m)&&m.every(r=>typeof r=="string")?v(m):v([])}catch{v([])}},[]);const p=a.useCallback(i=>{try{localStorage.setItem(me,JSON.stringify(i)),v(i)}catch(m){console.error("Failed to save favorites to localStorage:",m)}},[]),j=a.useCallback(i=>{if(i&&!o.includes(i)){const m=[...o,i];p(m)}},[o,p]),g=a.useCallback(i=>{if(!i)return;const m=o.filter(r=>r!==i);p(m)},[o,p]),O=a.useCallback(i=>{i&&(o.includes(i)?g(i):j(i))},[o,j,g]),N=a.useCallback(i=>o.includes(i),[o]),I=a.useCallback(()=>{p([])},[p]);return{favorites:o,addFavorite:j,removeFavorite:g,toggleFavorite:O,isFavorite:N,clearAllFavorites:I,favoritesCount:o.length}}const H=[{id:"all",label:"All",icon:"ri-apps-line"},{id:"Planets",label:"Planets",icon:"ri-earth-line"},{id:"Moons",label:"Moons",icon:"ri-moon-line"},{id:"Spacecraft",label:"Spacecraft",icon:"ri-space-ship-line"},{id:"Rockets",label:"Rockets",icon:"ri-rocket-line"},{id:"Nebulae & Galaxies",label:"Nebulae & Galaxies",icon:"ri-sparkling-line"},{id:"Astronauts",label:"Astronauts",icon:"ri-user-star-line"},{id:"Satellites",label:"Satellites",icon:"ri-satellite-line"},{id:"Crewed Vehicles",label:"Crewed Vehicles",icon:"ri-capsule-line"},{id:"Asteroids & Comets",label:"Asteroids & Comets",icon:"ri-meteor-line"},{id:"Stars & Sun",label:"Stars & Sun",icon:"ri-sun-line"},{id:"Other",label:"Other",icon:"ri-more-line"}],Ye=H.filter(o=>o.id!=="all");function Be(){Me();const[o,v]=a.useState([]),[p,j]=a.useState(!0),[g,O]=a.useState(""),[N,I]=a.useState("newest"),[i,m]=a.useState("all"),[r,f]=a.useState(null),[x,z]=a.useState(1),[y,D]=a.useState({x:0,y:0}),[G,A]=a.useState(!1),[M,q]=a.useState({x:0,y:0}),[W,K]=a.useState(!1),[R,Q]=a.useState(!1),[Y,ee]=a.useState(!1),[k,te]=a.useState(!1),[F,E]=a.useState("browse"),[d,P]=a.useState({name:"",description:"",category:"Other"}),[$,V]=a.useState(null),[Z,J]=a.useState(""),[h,C]=a.useState({}),[se,ae]=a.useState(!1),[he,le]=a.useState(!1),[U,X]=a.useState(!1),{theme:s}=Fe(),{toggleFavorite:_,isFavorite:b,favoritesCount:pe}=Re(),{hide:re,show:T}=Ee(),{hide:ie,show:L}=Pe();a.useEffect(()=>{oe()},[]),a.useEffect(()=>{r!==null||R||Y?(re(),ie()):(T(),L())},[r,R,Y,re,T,ie,L]),a.useEffect(()=>()=>{T(),L()},[T,L]),a.useEffect(()=>{const t=l=>{l.key==="Escape"&&(f(null),S())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),a.useEffect(()=>{r&&S()},[r]);const oe=async()=>{try{j(!0);const t=await Te();v(t)}catch(t){console.error("Error fetching models:",t)}finally{j(!1)}},B=(()=>{const t={all:o.length};return o.forEach(l=>{const n=l.category||"Other";t[n]=(t[n]||0)+1}),t})(),c=o.filter(t=>{const l=t.name.toLowerCase().includes(g.toLowerCase())||t.description.toLowerCase().includes(g.toLowerCase()),n=k?b(t.id):!0,w=i==="all"||t.category===i;return l&&n&&w}).sort((t,l)=>N==="name"?t.name.localeCompare(l.name):N==="newest"?new Date(l.createdAt).getTime()-new Date(t.createdAt).getTime():N==="oldest"?new Date(t.createdAt).getTime()-new Date(l.createdAt).getTime():0),ne=t=>{if(!r)return;const l=c.findIndex(n=>n.id===r.id);t==="prev"&&l>0?f(c[l-1]):t==="next"&&l<c.length-1&&f(c[l+1])},S=()=>{z(1),D({x:0,y:0})},ge=()=>{z(t=>Math.min(t+.5,4))},be=()=>{z(t=>{const l=Math.max(t-.5,1);return l===1&&D({x:0,y:0}),l})},ue=t=>{x>1&&(A(!0),q({x:t.clientX-y.x,y:t.clientY-y.y}))},fe=t=>{G&&x>1&&D({x:t.clientX-M.x,y:t.clientY-M.y})},ce=()=>{A(!1)},we=t=>{x>1&&t.touches.length===1&&(A(!0),q({x:t.touches[0].clientX-y.x,y:t.touches[0].clientY-y.y}))},ve=t=>{G&&x>1&&t.touches.length===1&&D({x:t.touches[0].clientX-M.x,y:t.touches[0].clientY-M.y})},je=()=>{A(!1)},Ne=async()=>{if(r?.imageUrl){K(!0);try{const l=await(await fetch(r.imageUrl)).blob(),n=window.URL.createObjectURL(l),w=document.createElement("a");w.href=n,w.download=`${r.name.replace(/\s+/g,"_")}_${Date.now()}.jpg`,document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(n)}catch(t){console.error("Download failed:",t)}finally{K(!1)}}},de=t=>H.find(n=>n.id===t)?.icon||"ri-more-line",ye=()=>{const t={};return d.name.trim()?d.name.length<3&&(t.name="Name must be at least 3 characters"):t.name="Model name is required",d.description.trim()?d.description.length<10&&(t.description="Description must be at least 10 characters"):t.description="Description is required",!$&&!Z&&(t.image="Please select an image file"),C(t),Object.keys(t).length===0},ke=t=>{const l=t.target.files?.[0];l&&xe(l)},xe=t=>{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type)){C({...h,image:"Please upload an IMAGE file (JPG, PNG, GIF, or WebP). 3D model files are not supported."});return}V(t),C({...h,image:""});const n=new FileReader;n.onloadend=()=>{J(n.result)},n.readAsDataURL(t)},Se=t=>{t.preventDefault(),t.stopPropagation(),X(!0)},$e=t=>{t.preventDefault(),t.stopPropagation(),X(!1)},Ce=t=>{t.preventDefault(),t.stopPropagation()},De=t=>{t.preventDefault(),t.stopPropagation(),X(!1);const l=t.dataTransfer.files;l&&l.length>0&&xe(l[0])},Ae=async t=>{if(t.preventDefault(),!!ye()){if(!$){C({...h,image:"Please select an image file"});return}ae(!0),le(!1);try{const l=await Le($);await Oe({name:d.name.trim(),description:d.description.trim(),imageUrl:l,category:d.category}),le(!0),P({name:"",description:"",category:"Other"}),V(null),J(""),setTimeout(()=>{E("browse"),oe()},3e3)}catch(l){console.error("Error uploading model:",l),C({submit:"Failed to upload model. Please try again."})}finally{ae(!1)}}};return e.jsxs("div",{className:`min-h-screen relative overflow-hidden ${s==="light"?"bg-gradient-to-b from-sky-100 via-sky-50 to-sky-100":"bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950"}`,children:[e.jsx(Ie,{}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:`absolute top-1/3 -left-1/4 w-[500px] h-[500px] ${s==="light"?"bg-teal-300/20":"bg-teal-500/5"} rounded-full blur-[100px] animate-pulse`}),e.jsx("div",{className:`absolute bottom-1/3 -right-1/4 w-[400px] h-[400px] ${s==="light"?"bg-cyan-300/20":"bg-cyan-500/5"} rounded-full blur-[80px] animate-pulse`,style:{animationDelay:"1.5s"}})]}),e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 backdrop-blur-md border-b ${s==="light"?"bg-white/80 border-slate-200":"bg-slate-950/80 border-slate-800"}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(u,{to:"/",className:"flex items-center gap-3 group min-h-[44px]",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-rocket-2-line text-2xl sm:text-3xl text-teal-400 group-hover:animate-bounce"}),e.jsx("div",{className:"absolute inset-0 bg-teal-400/20 blur-lg rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx("span",{className:`text-lg sm:text-xl font-bold ${s==="light"?"text-slate-800":"text-white"}`,children:"NASA DSLM"})]}),e.jsx("div",{className:"lg:hidden w-14 h-14"}),e.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[e.jsx(u,{to:"/",className:`text-sm ${s==="light"?"text-slate-600 hover:text-teal-600":"text-slate-300 hover:text-teal-400"} transition-colors whitespace-nowrap`,children:"Home"}),e.jsx(u,{to:"/gallery",className:"text-sm text-teal-400 transition-colors whitespace-nowrap",children:"Gallery"}),e.jsx(u,{to:"/hunch",className:`text-sm ${s==="light"?"text-slate-600 hover:text-teal-600":"text-slate-300 hover:text-teal-400"} transition-colors whitespace-nowrap`,children:"HUNCH Projects"}),e.jsx(u,{to:"/videos",className:`text-sm ${s==="light"?"text-slate-600 hover:text-teal-600":"text-slate-300 hover:text-teal-400"} transition-colors whitespace-nowrap`,children:"Space Videos"}),e.jsx(u,{to:"/upload",className:`text-sm ${s==="light"?"text-slate-600 hover:text-teal-600":"text-slate-300 hover:text-teal-400"} transition-colors whitespace-nowrap`,children:"Upload"}),e.jsx(u,{to:"/resources",className:`text-sm ${s==="light"?"text-slate-600 hover:text-teal-600":"text-slate-300 hover:text-teal-400"} transition-colors whitespace-nowrap`,children:"Resources"}),e.jsx(u,{to:"/about",className:`text-sm ${s==="light"?"text-slate-600 hover:text-teal-600":"text-slate-300 hover:text-teal-400"} transition-colors whitespace-nowrap`,children:"About"}),e.jsx(Ue,{}),e.jsx(u,{to:"/admin",className:"px-4 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-sm rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all shadow-lg shadow-teal-500/20 whitespace-nowrap",children:"Admin"})]})]})})}),e.jsx("div",{className:"pt-24 sm:pt-32 pb-20 px-4 sm:px-6 relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("span",{className:"text-teal-400 text-xs sm:text-sm font-semibold uppercase tracking-wider",children:"Collection"}),e.jsx("h1",{className:`text-3xl sm:text-5xl font-bold mt-2 mb-4 ${s==="light"?"text-slate-800":"text-white"}`,children:"Space Gallery"}),e.jsxs("p",{className:`text-base sm:text-lg mb-4 ${s==="light"?"text-slate-600":"text-slate-300"}`,children:["Explore ",o.length,"+ stunning space images from planets to spacecraft"]}),e.jsxs("div",{className:`inline-flex items-center gap-2 px-5 py-3 rounded-full ${s==="light"?"bg-teal-50 border border-teal-200":"bg-teal-500/10 border border-teal-500/30"}`,children:[e.jsx("i",{className:`ri-share-forward-line ${s==="light"?"text-teal-600":"text-teal-400"}`}),e.jsxs("span",{className:`text-sm ${s==="light"?"text-teal-700":"text-teal-300"}`,children:["Share any image you love! ",e.jsx("span",{className:"font-semibold",children:"3D models & NASA space-related content"})," works best for our community."]})]})]}),e.jsxs("div",{className:"flex gap-3 mb-8 justify-center",children:[e.jsxs("button",{onClick:()=>E("browse"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap cursor-pointer min-h-[44px] ${F==="browse"?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/50":s==="light"?"bg-white/60 text-slate-600 hover:bg-white/80":"bg-slate-800/50 text-slate-300 hover:bg-slate-800/70"}`,children:[e.jsx("i",{className:"ri-gallery-line mr-2"}),"Browse Gallery"]}),e.jsxs("button",{onClick:()=>E("upload"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap cursor-pointer min-h-[44px] ${F==="upload"?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/50":s==="light"?"bg-white/60 text-slate-600 hover:bg-white/80":"bg-slate-800/50 text-slate-300 hover:bg-slate-800/70"}`,children:[e.jsx("i",{className:"ri-upload-cloud-line mr-2"}),"Upload Model"]})]}),F==="browse"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-500/10 blur-xl rounded-full"}),e.jsxs("div",{className:"relative flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("i",{className:"ri-search-line absolute left-4 sm:left-5 top-1/2 -translate-y-1/2 text-slate-400 text-lg"}),e.jsx("input",{type:"text",value:g,onChange:t=>O(t.target.value),placeholder:"Search by name or description...",className:`w-full pl-12 sm:pl-14 pr-4 sm:pr-6 py-3 sm:py-4 backdrop-blur-xl border rounded-xl text-sm placeholder-slate-500 focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all shadow-xl min-h-[44px] ${s==="light"?"bg-white/60 border-slate-300 text-slate-800":"bg-slate-900/60 border-slate-700/50 text-white shadow-black/10"}`})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs("select",{value:N,onChange:t=>I(t.target.value),className:`flex-1 min-w-[140px] px-4 py-3 sm:py-4 backdrop-blur-xl border rounded-xl text-sm focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all shadow-xl cursor-pointer min-h-[44px] ${s==="light"?"bg-white/60 border-slate-300 text-slate-800":"bg-slate-900/60 border-slate-700/50 text-white shadow-black/10"}`,children:[e.jsx("option",{value:"newest",children:"Sort by Newest"}),e.jsx("option",{value:"oldest",children:"Sort by Oldest"}),e.jsx("option",{value:"name",children:"Sort by Name"})]}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold rounded-xl transition-all shadow-xl shadow-teal-500/30 whitespace-nowrap cursor-pointer min-h-[44px]",children:[e.jsx("i",{className:"ri-play-circle-line text-xl"}),e.jsx("span",{className:"hidden sm:inline",children:"Slideshow"})]}),e.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-semibold rounded-xl transition-all shadow-xl shadow-pink-500/30 whitespace-nowrap cursor-pointer min-h-[44px]",children:[e.jsx("i",{className:"ri-slideshow-line text-xl"}),e.jsx("span",{className:"hidden sm:inline",children:"Presentation"})]})]})]})]})]})}),e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:H.filter(t=>t.id==="all"||B[t.id]&&B[t.id]>0).map(t=>e.jsxs("button",{onClick:()=>m(t.id),className:`px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all cursor-pointer whitespace-nowrap min-h-[40px] flex items-center gap-1.5 ${i===t.id?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/30":s==="light"?"bg-white/60 text-slate-600 border border-slate-300 hover:border-teal-500/50 hover:text-teal-600":"bg-slate-900/60 text-slate-300 border border-slate-700/50 hover:border-teal-500/50 hover:text-teal-400"}`,children:[e.jsx("i",{className:`${t.icon} text-sm`}),e.jsx("span",{children:t.label}),e.jsxs("span",{className:"text-xs opacity-75",children:["(",B[t.id]||0,")"]})]},t.id))})}),e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-wrap items-center justify-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>te(!1),className:`px-4 sm:px-5 py-2.5 rounded-full text-xs sm:text-sm font-medium transition-all cursor-pointer whitespace-nowrap min-h-[44px] flex items-center ${k?s==="light"?"bg-white/60 text-slate-600 border border-slate-300 hover:border-teal-500/50 hover:text-teal-600":"bg-slate-900/60 text-slate-300 border border-slate-700/50 hover:border-teal-500/50 hover:text-teal-400":"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/30"}`,children:["All Models",e.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",o.length,")"]})]}),e.jsxs("button",{onClick:()=>te(!0),className:`px-4 sm:px-5 py-2.5 rounded-full text-xs sm:text-sm font-medium transition-all cursor-pointer whitespace-nowrap min-h-[44px] flex items-center ${k?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-lg shadow-rose-500/30":s==="light"?"bg-white/60 text-slate-600 border border-slate-300 hover:border-rose-500/50 hover:text-rose-600":"bg-slate-900/60 text-slate-300 border border-slate-700/50 hover:border-rose-500/50 hover:text-rose-400"}`,children:[e.jsx("i",{className:"ri-heart-fill mr-1.5 text-rose-400"}),"Favorites",e.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",pe,")"]})]})]}),e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("p",{className:`text-sm ${s==="light"?"text-slate-500":"text-slate-400"}`,children:["Showing ",e.jsx("span",{className:"text-teal-400 font-semibold",children:c.length})," models",g&&e.jsxs("span",{children:[' matching "',e.jsx("span",{className:s==="light"?"text-slate-800":"text-white",children:g}),'"']}),i!=="all"&&e.jsxs("span",{children:[" in ",e.jsx("span",{className:s==="light"?"text-slate-800":"text-white",children:i})]})]})}),p&&e.jsxs("div",{className:"text-center py-20",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("i",{className:"ri-loader-4-line text-5xl text-teal-400 animate-spin"}),e.jsx("div",{className:"absolute inset-0 bg-teal-400/20 blur-xl rounded-full"})]}),e.jsx("p",{className:`mt-4 ${s==="light"?"text-slate-500":"text-slate-400"}`,children:"Loading models from database..."})]}),!p&&c.length===0&&e.jsxs("div",{className:`text-center py-20 backdrop-blur-sm border rounded-2xl ${s==="light"?"bg-white/30 border-slate-200":"bg-slate-900/30 border-slate-800"}`,children:[e.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center ${s==="light"?"bg-slate-200/50":"bg-slate-800/50"}`,children:e.jsx("i",{className:`ri-search-line text-5xl ${s==="light"?"text-slate-400":"text-slate-600"}`})}),e.jsx("p",{className:`text-xl mb-2 ${s==="light"?"text-slate-500":"text-slate-400"}`,children:k?"No favorites yet":"No models found"}),e.jsx("p",{className:`text-sm ${s==="light"?"text-slate-400":"text-slate-500"}`,children:k?"Click the heart icon on models to add them to favorites":"Try adjusting your search or category filter"}),!k&&i!=="all"&&e.jsxs("button",{onClick:()=>m("all"),className:"inline-flex items-center gap-2 mt-6 px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all cursor-pointer",children:[e.jsx("i",{className:"ri-apps-line"}),"View All Categories"]})]}),!p&&c.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:c.map((t,l)=>e.jsxs("div",{className:`backdrop-blur-xl border rounded-2xl overflow-hidden hover:border-teal-500/50 transition-all group shadow-xl hover:shadow-2xl hover:shadow-teal-500/10 cursor-pointer animate-fadeIn ${s==="light"?"bg-white/60 border-slate-200 shadow-slate-200/50":"bg-slate-900/60 border-slate-700/50 shadow-black/10"}`,style:{animationDelay:`${l%20*.05}s`},children:[e.jsxs("div",{className:"relative w-full h-48 bg-slate-800 overflow-hidden",onClick:()=>f(t),children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("button",{onClick:n=>{n.stopPropagation(),_(t.id)},className:`absolute top-2 left-2 w-9 h-9 flex items-center justify-center rounded-full backdrop-blur-sm transition-all cursor-pointer hover:scale-110 active:scale-90 ${b(t.id)?"bg-rose-500 text-white":s==="light"?"bg-white/80 text-slate-400 hover:text-rose-500":"bg-slate-900/80 text-slate-400 hover:text-rose-500"}`,children:e.jsx("i",{className:`${b(t.id)?"ri-heart-fill":"ri-heart-line"} text-lg`})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-teal-500/90 rounded-full backdrop-blur-sm",children:e.jsx("i",{className:"ri-zoom-in-line text-xl text-white"})})})]}),e.jsxs("div",{className:"p-4",onClick:()=>f(t),children:[e.jsx("h3",{className:`text-base font-bold mb-1.5 group-hover:text-teal-400 transition-colors line-clamp-1 ${s==="light"?"text-slate-800":"text-white"}`,children:t.name}),e.jsx("p",{className:`text-xs mb-3 line-clamp-2 ${s==="light"?"text-slate-500":"text-slate-400"}`,children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:`px-2 py-0.5 rounded flex items-center gap-1 ${s==="light"?"bg-teal-100 text-teal-700":"bg-teal-500/20 text-teal-400"}`,children:[e.jsx("i",{className:`${de(t.category)} text-xs`}),t.category||"Other"]}),e.jsx("span",{className:s==="light"?"text-slate-400":"text-slate-500",children:new Date(t.createdAt).toLocaleDateString()})]})]})]},t.id))})]}),F==="upload"&&e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:`backdrop-blur-xl border rounded-2xl p-6 sm:p-8 shadow-2xl ${s==="light"?"bg-white/60 border-slate-200 shadow-slate-200/50":"bg-slate-900/60 border-slate-700/50 shadow-black/20"}`,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold mb-2 ${s==="light"?"text-slate-800":"text-white"}`,children:"Upload 3D Model Image"}),e.jsx("p",{className:`text-sm ${s==="light"?"text-slate-600":"text-slate-400"}`,children:"Share your 3D model images with the community. Your submission will be reviewed by an admin before appearing in the gallery."})]}),e.jsx("div",{className:`mb-6 p-4 rounded-xl border ${s==="light"?"bg-teal-50 border-teal-200":"bg-teal-500/10 border-teal-500/30"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${s==="light"?"bg-teal-100":"bg-teal-500/20"}`,children:e.jsx("i",{className:`ri-lightbulb-flash-line text-xl ${s==="light"?"text-teal-600":"text-teal-400"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold mb-1 ${s==="light"?"text-teal-800":"text-teal-300"}`,children:"Upload anything you want!"}),e.jsxs("p",{className:`text-sm ${s==="light"?"text-teal-700":"text-teal-400/80"}`,children:["Feel free to share any image, but ",e.jsx("strong",{children:"3D model renders, NASA imagery, space exploration photos, and astronomy content"})," are greatly appreciated! Screenshots, renders, and artistic space visualizations are all welcome."]})]})]})}),he&&e.jsxs("div",{className:"mb-6 p-4 bg-teal-500/10 border border-teal-500/50 rounded-lg text-teal-400 flex items-center gap-3",children:[e.jsx("i",{className:"ri-checkbox-circle-line text-xl"}),e.jsx("span",{children:"Model uploaded successfully! Your submission is pending admin approval."})]}),h.submit&&e.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-lg text-red-400 flex items-center gap-3",children:[e.jsx("i",{className:"ri-error-warning-line text-xl"}),e.jsx("span",{children:h.submit})]}),e.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-semibold mb-2 ${s==="light"?"text-slate-700":"text-white"}`,children:["Model Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-cube-line absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:d.name,onChange:t=>P({...d,name:t.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-lg text-sm placeholder-slate-500 focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all min-h-[44px] ${s==="light"?"bg-white border-slate-300 text-slate-800":"bg-slate-800/50 border-slate-700 text-white"}`,placeholder:"Enter model name (e.g., Mars Rover, Space Station)"})]}),h.name&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center gap-1",children:[e.jsx("i",{className:"ri-error-warning-line"}),h.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-semibold mb-2 ${s==="light"?"text-slate-700":"text-white"}`,children:["Category ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Ye.map(t=>e.jsxs("button",{type:"button",onClick:()=>P({...d,category:t.id}),className:`px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all cursor-pointer flex items-center gap-2 min-h-[44px] ${d.category===t.id?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/30":s==="light"?"bg-slate-100 text-slate-600 border border-slate-200 hover:border-teal-500/50 hover:text-teal-600":"bg-slate-800/50 text-slate-300 border border-slate-700 hover-border-teal-500/50 hover:text-teal-400"}`,children:[e.jsx("i",{className:`${t.icon} text-base`}),e.jsx("span",{className:"truncate",children:t.label})]},t.id))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-semibold mb-2 ${s==="light"?"text-slate-700":"text-white"}`,children:["Description ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{value:d.description,onChange:t=>P({...d,description:t.target.value}),rows:4,maxLength:500,className:`w-full px-4 py-3 border rounded-lg text-sm placeholder-slate-500 focus:outline-none focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 transition-all resize-none ${s==="light"?"bg-white border-slate-300 text-slate-800":"bg-slate-800/50 border-slate-700 text-white"}`,placeholder:"Describe your 3D model - what it represents, how it was created, etc."}),e.jsxs("div",{className:"flex justify-between mt-2",children:[h.description?e.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-1",children:[e.jsx("i",{className:"ri-error-warning-line"}),h.description]}):e.jsx("span",{}),e.jsxs("span",{className:"text-xs text-slate-500",children:[d.description.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-semibold mb-2 ${s==="light"?"text-slate-700":"text-white"}`,children:["Model Image ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("p",{className:`text-xs mb-3 ${s==="light"?"text-slate-500":"text-slate-400"}`,children:[e.jsx("i",{className:"ri-lightbulb-line text-amber-400 mr-1"}),"Upload a ",e.jsx("strong",{children:"screenshot, render, or photo"})," of your 3D model. Actual 3D files are not supported."]}),e.jsxs("div",{className:"relative",onDragEnter:Se,onDragLeave:$e,onDragOver:Ce,onDrop:De,children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:ke,className:"hidden",id:"gallery-file-upload"}),e.jsx("label",{htmlFor:"gallery-file-upload",className:`flex items-center justify-center w-full px-4 py-10 border-2 border-dashed rounded-xl cursor-pointer transition-all group ${U?"border-teal-500 bg-teal-500/10 scale-[1.02]":s==="light"?"bg-slate-50 border-slate-300 hover:border-teal-500 hover:bg-slate-100":"bg-slate-800/50 border-slate-700 hover:border-teal-500 hover:bg-slate-800/70"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center transition-colors ${U?"bg-teal-500/20":s==="light"?"bg-slate-200 group-hover:bg-teal-500/20":"bg-slate-700/50 group-hover:bg-teal-500/20"}`,children:e.jsx("i",{className:`text-3xl transition-colors ${U?"ri-download-2-line text-teal-400 animate-bounce":"ri-image-add-line group-hover:text-teal-400 text-slate-400"}`})}),e.jsx("p",{className:`text-sm mb-1 font-semibold ${s==="light"?"text-slate-700":"text-white"}`,children:U?"Drop your image here!":$?$.name:"Drag & drop an image or click to browse"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Supported formats: JPG, PNG, GIF, WebP"})]})})]}),h.image&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-start gap-1",children:[e.jsx("i",{className:"ri-error-warning-line mt-0.5"}),e.jsx("span",{children:h.image})]})]}),Z&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${s==="light"?"text-slate-700":"text-white"}`,children:"Image Preview"}),e.jsxs("div",{className:`relative w-full h-64 sm:h-80 border rounded-xl overflow-hidden ${s==="light"?"bg-slate-100 border-slate-300":"bg-slate-800 border-slate-700"}`,children:[e.jsx("img",{src:Z,alt:"Preview",className:"w-full h-full object-cover object-top"}),e.jsx("button",{type:"button",onClick:()=>{V(null),J("")},className:"absolute top-4 right-4 w-10 h-10 flex items-center justify-center bg-red-500/90 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg cursor-pointer min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-close-line text-xl"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:se,className:"w-full sm:flex-1 px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap shadow-lg shadow-teal-500/25 hover:shadow-teal-500/40 hover:scale-[1.02] active:scale-[0.98] min-h-[44px] cursor-pointer",children:se?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Uploading..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"ri-upload-cloud-line"}),"Upload Model"]})}),e.jsx("button",{type:"button",onClick:()=>E("browse"),className:`w-full sm:w-auto px-6 py-3 font-semibold rounded-lg transition-colors whitespace-nowrap text-center min-h-[44px] flex items-center justify-center cursor-pointer ${s==="light"?"bg-slate-200 text-slate-700 hover:bg-slate-300":"bg-slate-800 text-white hover:bg-slate-700"}`,children:"Cancel"})]})]})]})})]})}),R&&e.jsx(ze,{models:c.map(t=>({id:t.id,name:t.name,description:t.description,imageUrl:t.imageUrl,createdAt:t.createdAt})),onClose:()=>Q(!1),initialIndex:0}),Y&&e.jsx(Ge,{models:c.map(t=>({id:t.id,name:t.name,description:t.description,imageUrl:t.imageUrl,createdAt:t.createdAt})),onClose:()=>ee(!1),initialIndex:0}),r&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>{f(null),S()}}),c.findIndex(t=>t.id===r.id)>0&&e.jsx("button",{onClick:t=>{t.stopPropagation(),ne("prev")},className:"absolute left-2 sm:left-4 md:left-8 top-1/2 -translate-y-1/2 z-10 w-11 h-11 sm:w-12 sm:h-12 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-arrow-left-s-line text-2xl"})}),c.findIndex(t=>t.id===r.id)<c.length-1&&e.jsx("button",{onClick:t=>{t.stopPropagation(),ne("next")},className:"absolute right-2 sm:right-4 md:right-8 top-1/2 -translate-y-1/2 z-10 w-11 h-11 sm:w-12 sm:h-12 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-arrow-right-s-line text-2xl"})}),e.jsx("button",{onClick:()=>{f(null),S()},className:"absolute top-2 right-2 sm:top-4 sm:right-4 md:top-6 md:right-6 z-10 w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-red-500/80 border border-slate-700 hover:border-red-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-close-line text-xl"})}),e.jsx("button",{onClick:()=>_(r.id),className:`absolute top-2 right-16 sm:top-4 sm:right-20 md:top-6 md:right-24 z-10 w-11 h-11 flex items-center justify-center rounded-full border transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px] ${b(r.id)?"bg-rose-500 border-rose-400 text-white":"bg-slate-800/80 border-slate-700 text-white hover:bg-rose-500/80 hover:border-rose-400"}`,children:e.jsx("i",{className:`${b(r.id)?"ri-heart-fill":"ri-heart-line"} text-xl`})}),e.jsxs("div",{className:"absolute top-16 sm:top-20 right-2 sm:right-4 md:right-6 z-10 flex flex-col gap-2",children:[e.jsx("button",{onClick:ge,disabled:x>=4,className:"w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-slate-800/80 active:scale-90 min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-zoom-in-line text-xl"})}),e.jsx("button",{onClick:be,disabled:x<=1,className:"w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-slate-800/80 active:scale-90 min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-zoom-out-line text-xl"})}),x>1&&e.jsx("button",{onClick:S,className:"w-11 h-11 flex items-center justify-center bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer active:scale-90 min-h-[44px] min-w-[44px]",children:e.jsx("i",{className:"ri-refresh-line text-xl"})}),e.jsxs("div",{className:"w-11 h-11 flex items-center justify-center bg-slate-800/80 border border-slate-700 rounded-full text-white text-xs min-h-[44px] min-w-[44px]",children:[Math.round(x*100),"%"]})]}),e.jsx("button",{onClick:Ne,disabled:W,className:"absolute top-2 left-2 sm:top-4 sm:left-4 md:top-6 md:left-6 z-10 flex items-center gap-2 px-3 sm:px-4 py-2 bg-slate-800/80 hover:bg-teal-500/80 border border-slate-700 hover:border-teal-400 rounded-full text-white transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap active:scale-95 min-h-[44px]",children:W?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line text-lg animate-spin"}),e.jsx("span",{className:"text-sm hidden md:inline",children:"Downloading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-download-line text-lg"}),e.jsx("span",{className:"text-sm hidden md:inline",children:"Download"})]})}),e.jsxs("div",{className:"relative z-10 w-full max-w-6xl mx-2 sm:mx-4 max-h-[90vh] overflow-hidden flex flex-col lg:flex-row bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"lg:w-2/3 relative bg-slate-950 flex items-center justify-center min-h-[300px] lg:min-h-[500px] overflow-hidden touch-none",onMouseDown:ue,onMouseMove:fe,onMouseUp:ce,onMouseLeave:ce,onTouchStart:we,onTouchMove:ve,onTouchEnd:je,style:{cursor:x>1?G?"grabbing":"grab":"default"},children:[e.jsx("img",{src:r.imageUrl,alt:r.name,className:"max-w-full max-h-[50vh] lg:max-h-[80vh] object-contain transition-transform duration-300 select-none",style:{transform:`scale(${x}) translate(${y.x/x}px, ${y.y/x}px)`,transformOrigin:"center center"},draggable:!1}),e.jsxs("div",{className:"absolute bottom-4 left-4 px-3 py-1.5 bg-slate-900/80 backdrop-blur-sm rounded-full text-xs text-slate-300",children:[c.findIndex(t=>t.id===r.id)+1," / ",c.length]}),x>1&&e.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-3 py-1.5 bg-teal-500/80 backdrop-blur-sm rounded-full text-xs text-white",children:[e.jsx("i",{className:"ri-drag-move-line mr-1"}),"Drag to pan"]})]}),e.jsxs("div",{className:"lg:w-1/3 p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[40vh] lg:max-h-[80vh] bg-slate-900/50",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-semibold rounded-full ${s==="light"?"bg-teal-100 text-teal-700":"bg-teal-500/20 text-teal-400"}`,children:[e.jsx("i",{className:`${de(r.category)} text-xs`}),r.category||"Other"]}),b(r.id)&&e.jsxs("span",{className:"inline-block px-3 py-1 bg-rose-500/20 text-rose-400 text-xs font-semibold rounded-full",children:[e.jsx("i",{className:"ri-heart-fill mr-1"}),"Favorited"]})]}),e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-3",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx("i",{className:"ri-calendar-line"}),e.jsxs("span",{children:["Added ",new Date(r.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-teal-400 uppercase tracking-wider mb-3",children:"Description"}),e.jsx("p",{className:"text-slate-300 leading-relaxed text-sm",children:r.description})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-700/50 space-y-3",children:[e.jsxs("button",{onClick:()=>_(r.id),className:`w-full px-5 py-2.5 text-sm font-semibold rounded-lg transition-all shadow-lg whitespace-nowrap cursor-pointer active:scale-95 min-h-[44px] ${b(r.id)?"bg-rose-500 text-white hover:bg-rose-600 shadow-rose-500/25":"bg-slate-800 text-white hover:bg-rose-500 border border-slate-700"}`,children:[e.jsx("i",{className:`${b(r.id)?"ri-heart-fill":"ri-heart-line"} mr-2`}),b(r.id)?"Remove from Favorites":"Add to Favorites"]}),e.jsx("button",{onClick:()=>{f(null),S()},className:"w-full px-5 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-sm font-semibold rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all shadow-lg shadow-teal-500/25 whitespace-nowrap cursor-pointer active:scale-95 min-h-[44px]",children:"Close"})]})]})]}),e.jsxs("div",{className:"hidden sm:flex absolute bottom-4 left-1/2 -translate-x-1/2 items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-2 py-1 bg-slate-800 rounded text-slate-400",children:"←"}),e.jsx("kbd",{className:"px-2 py-1 bg-slate-800 rounded text-slate-400",children:"→"}),"Navigate"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-2 py-1 bg-slate-800 rounded text-slate-400",children:"ESC"}),"Close"]})]})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
          opacity: 0;
        }
      `})]})}export{Be as default};
//# sourceMappingURL=page-937URtIB.js.map
